/*! AmazeUI - v1.0.0 | (c) 2014 AllMobilize, Inc. | @license MIT | 2014-08-12 14:08:17 */
/*! Sea.js 2.2.1 | seajs.org/LICENSE.md */
!function(t,e){function n(t){return function(e){return{}.toString.call(e)=="[object "+t+"]"}}function i(){return S++}function o(t){return t.match(z)[0]}function a(t){for(t=t.replace(M,"/");t.match(L);)t=t.replace(L,"/");return t=t.replace(D,"$1/")}function r(t){var e=t.length-1,n=t.charAt(e);return"#"===n?t.substring(0,e):".js"===t.substring(e-2)||t.indexOf("?")>0||".css"===t.substring(e-3)||"/"===n?t:t+".js"}function s(t){var e=x.alias;return e&&T(e[t])?e[t]:t}function l(t){var e,n=x.paths;return n&&(e=t.match(N))&&T(n[e[1]])&&(t=n[e[1]]+e[2]),t}function c(t){var e=x.vars;return e&&t.indexOf("{")>-1&&(t=t.replace(I,function(t,n){return T(e[n])?e[n]:t})),t}function u(t){var e=x.map,n=t;if(e)for(var i=0,o=e.length;o>i;i++){var a=e[i];if(n=E(a)?a(t)||t:t.replace(a[0],a[1]),n!==t)break}return n}function d(t,e){var n,i=t.charAt(0);if(O.test(t))n=t;else if("."===i)n=a((e?o(e):x.cwd)+t);else if("/"===i){var r=x.cwd.match(F);n=r?r[0]+t.substring(1):t}else n=x.base+t;return 0===n.indexOf("//")&&(n=location.protocol+n),n}function h(t,e){if(!t)return"";t=s(t),t=l(t),t=c(t),t=r(t);var n=d(t,e);return n=u(n)}function p(t){return t.hasAttribute?t.src:t.getAttribute("src",4)}function f(t,e,n){var i=X.test(t),o=_.createElement(i?"link":"script");if(n){var a=E(n)?n(t):n;a&&(o.charset=a)}m(o,e,i,t),i?(o.rel="stylesheet",o.href=t):(o.async=!0,o.src=t),R=o,W?Z.insertBefore(o,W):Z.appendChild(o),R=null}function m(t,n,i,o){function a(){t.onload=t.onerror=t.onreadystatechange=null,i||x.debug||Z.removeChild(t),t=null,n()}var r="onload"in t;return!i||!j&&r?(r?(t.onload=a,t.onerror=function(){P("error",{uri:o,node:t}),a()}):t.onreadystatechange=function(){/loaded|complete/.test(t.readyState)&&a()},e):(setTimeout(function(){v(t,n)},1),e)}function v(t,e){var n,i=t.sheet;if(j)i&&(n=!0);else if(i)try{i.cssRules&&(n=!0)}catch(o){"NS_ERROR_DOM_SECURITY_ERR"===o.name&&(n=!0)}setTimeout(function(){n?e():v(t,e)},20)}function g(){if(R)return R;if(U&&"interactive"===U.readyState)return U;for(var t=Z.getElementsByTagName("script"),e=t.length-1;e>=0;e--){var n=t[e];if("interactive"===n.readyState)return U=n}}function w(t){var e=[];return t.replace(V,"").replace(Y,function(t,n,i){i&&e.push(i)}),e}function y(t,e){this.uri=t,this.dependencies=e||[],this.exports=null,this.status=0,this._waitings={},this._remain=0}if(!t.seajs){var b=t.seajs={version:"2.2.1"},x=b.data={},C=n("Object"),T=n("String"),k=Array.isArray||n("Array"),E=n("Function"),S=0,A=x.events={};b.on=function(t,e){var n=A[t]||(A[t]=[]);return n.push(e),b},b.off=function(t,e){if(!t&&!e)return A=x.events={},b;var n=A[t];if(n)if(e)for(var i=n.length-1;i>=0;i--)n[i]===e&&n.splice(i,1);else delete A[t];return b};var P=b.emit=function(t,e){var n,i=A[t];if(i)for(i=i.slice();n=i.shift();)n(e);return b},z=/[^?#]*\//,M=/\/\.\//g,L=/\/[^/]+\/\.\.\//,D=/([^:/])\/\//g,N=/^([^/:]+)(\/.+)$/,I=/{([^{]+)}/g,O=/^\/\/.|:\//,F=/^.*?\/\/.*?\//,_=document,B=o(_.URL),q=_.scripts,H=_.getElementById("seajsnode")||q[q.length-1],$=o(p(H)||B);b.resolve=h;var R,U,Z=_.head||_.getElementsByTagName("head")[0]||_.documentElement,W=Z.getElementsByTagName("base")[0],X=/\.css(?:\?|$)/i,j=+navigator.userAgent.replace(/.*(?:AppleWebKit|AndroidWebKit)\/(\d+).*/,"$1")<536;b.request=f;var G,Y=/"(?:\\"|[^"])*"|'(?:\\'|[^'])*'|\/\*[\S\s]*?\*\/|\/(?:\\\/|[^\/\r\n])+\/(?=[^\/])|\/\/.*|\.\s*require|(?:^|[^$])\brequire\s*\(\s*(["'])(.+?)\1\s*\)/g,V=/\\\\/g,K=b.cache={},Q={},J={},te={},ee=y.STATUS={FETCHING:1,SAVED:2,LOADING:3,LOADED:4,EXECUTING:5,EXECUTED:6};y.prototype.resolve=function(){for(var t=this,e=t.dependencies,n=[],i=0,o=e.length;o>i;i++)n[i]=y.resolve(e[i],t.uri);return n},y.prototype.load=function(){var t=this;if(!(t.status>=ee.LOADING)){t.status=ee.LOADING;var n=t.resolve();P("load",n);for(var i,o=t._remain=n.length,a=0;o>a;a++)i=y.get(n[a]),i.status<ee.LOADED?i._waitings[t.uri]=(i._waitings[t.uri]||0)+1:t._remain--;if(0===t._remain)return t.onload(),e;var r={};for(a=0;o>a;a++)i=K[n[a]],i.status<ee.FETCHING?i.fetch(r):i.status===ee.SAVED&&i.load();for(var s in r)r.hasOwnProperty(s)&&r[s]()}},y.prototype.onload=function(){var t=this;t.status=ee.LOADED,t.callback&&t.callback();var e,n,i=t._waitings;for(e in i)i.hasOwnProperty(e)&&(n=K[e],n._remain-=i[e],0===n._remain&&n.onload());delete t._waitings,delete t._remain},y.prototype.fetch=function(t){function n(){b.request(r.requestUri,r.onRequest,r.charset)}function i(){delete Q[s],J[s]=!0,G&&(y.save(a,G),G=null);var t,e=te[s];for(delete te[s];t=e.shift();)t.load()}var o=this,a=o.uri;o.status=ee.FETCHING;var r={uri:a};P("fetch",r);var s=r.requestUri||a;return!s||J[s]?(o.load(),e):Q[s]?(te[s].push(o),e):(Q[s]=!0,te[s]=[o],P("request",r={uri:a,requestUri:s,onRequest:i,charset:x.charset}),r.requested||(t?t[r.requestUri]=n:n()),e)},y.prototype.exec=function(){function t(e){return y.get(t.resolve(e)).exec()}var n=this;if(n.status>=ee.EXECUTING)return n.exports;n.status=ee.EXECUTING;var o=n.uri;t.resolve=function(t){return y.resolve(t,o)},t.async=function(e,n){return y.use(e,n,o+"_async_"+i()),t};var a=n.factory,r=E(a)?a(t,n.exports={},n):a;return r===e&&(r=n.exports),delete n.factory,n.exports=r,n.status=ee.EXECUTED,P("exec",n),r},y.resolve=function(t,e){var n={id:t,refUri:e};return P("resolve",n),n.uri||b.resolve(n.id,e)},y.define=function(t,n,i){var o=arguments.length;1===o?(i=t,t=e):2===o&&(i=n,k(t)?(n=t,t=e):n=e),!k(n)&&E(i)&&(n=w(""+i));var a={id:t,uri:y.resolve(t),deps:n,factory:i};if(!a.uri&&_.attachEvent){var r=g();r&&(a.uri=r.src)}P("define",a),a.uri?y.save(a.uri,a):G=a},y.save=function(t,e){var n=y.get(t);n.status<ee.SAVED&&(n.id=e.id||t,n.dependencies=e.deps||[],n.factory=e.factory,n.status=ee.SAVED)},y.get=function(t,e){return K[t]||(K[t]=new y(t,e))},y.use=function(e,n,i){var o=y.get(i,k(e)?e:[e]);o.callback=function(){for(var e=[],i=o.resolve(),a=0,r=i.length;r>a;a++)e[a]=K[i[a]].exec();n&&n.apply(t,e),delete o.callback},o.load()},y.preload=function(t){var e=x.preload,n=e.length;n?y.use(e,function(){e.splice(0,n),y.preload(t)},x.cwd+"_preload_"+i()):t()},b.use=function(t,e){return y.preload(function(){y.use(t,e,x.cwd+"_use_"+i())}),b},y.define.cmd={},t.define=y.define,b.Module=y,x.fetchedList=J,x.cid=i,b.require=function(t){var e=y.get(y.resolve(t));return e.status<ee.EXECUTING&&(e.onload(),e.exec()),e.exports};var ne=/^(.+?\/)(\?\?)?(seajs\/)+/;x.base=($.match(ne)||["",$])[1],x.dir=$,x.cwd=B,x.charset="utf-8",x.preload=function(){var t=[],e=location.search.replace(/(seajs-\w+)(&|$)/g,"$1=1$2");return e+=" "+_.cookie,e.replace(/(seajs-\w+)=1/g,function(e,n){t.push(n)}),t}(),b.config=function(t){for(var e in t){var n=t[e],i=x[e];if(i&&C(i))for(var o in n)i[o]=n[o];else k(i)?n=i.concat(n):"base"===e&&("/"!==n.slice(-1)&&(n+="/"),n=d(n)),x[e]=n}return P("config",t),b}}}(this),define("core",["zepto.extend.fx","zepto.extend.data","zepto.extend.selector"],function(require,t,e){function n(t){return t=i(t),!(!t.width()&&!t.height())&&"none"!==t.css("display")}require("zepto.extend.fx"),require("zepto.extend.data"),require("zepto.extend.selector");var i=window.Zepto,o=i.AMUI||{},a=i(window),r=window.document,s=i("html");if(o.fn)return o;o.fn=function(t,e){var n=arguments,a=t.match(/^([a-z\-]+)(?:\.([a-z]+))?/i),r=a[1],s=a[2];return o[r]?this.each(function(){var t=i(this),a=t.data(r);a||t.data(r,a=o[r](this,s?void 0:e)),s&&a[s].apply(a,Array.prototype.slice.call(n,1))}):(log.error('Amaze UI component [" + component + "] does not exist.'),this)},o.support={},o.support.transition=function(){var t=function(){var t,e=r.body||r.documentElement,n={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(t in n)if(void 0!==e.style[t])return n[t]}();return t&&{end:t}}(),o.support.animation=function(){var t=function(){var t,e=r.body||r.documentElement,n={WebkitAnimation:"webkitAnimationEnd",MozAnimation:"animationend",OAnimation:"oAnimationEnd oanimationend",animation:"animationend"};for(t in n)if(void 0!==e.style[t])return n[t]}();return t&&{end:t}}(),o.support.requestAnimationFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)},o.support.touch="ontouchstart"in window&&navigator.userAgent.toLowerCase().match(/mobile|tablet/)||window.DocumentTouch&&document instanceof window.DocumentTouch||window.navigator.msPointerEnabled&&window.navigator.msMaxTouchPoints>0||window.navigator.pointerEnabled&&window.navigator.maxTouchPoints>0||!1,o.support.mutationobserver=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver||null,o.utils={},o.utils.debounce=function(t,e,n){var i;return function(){var o=this,a=arguments,r=function(){i=null,n||t.apply(o,a)},s=n&&!i;clearTimeout(i),i=setTimeout(r,e),s&&t.apply(o,a)}},o.utils.isInView=function(t,e){var n=i(t),o=!(!n.width()&&!n.height())&&"none"!==n.css("display");if(!o)return!1;var r=a.scrollLeft(),s=a.scrollTop(),l=n.offset(),c=l.left,u=l.top;return e=i.extend({topOffset:0,leftOffset:0},e),u+n.height()>=s&&u-e.topOffset<=s+a.height()&&c+n.width()>=r&&c-e.leftOffset<=r+a.width()},o.utils.parseOptions=o.utils.options=function(t){if(i.isPlainObject(t))return t;var e=t?t.indexOf("{"):-1,n={};if(-1!=e)try{n=new Function("","var json = "+t.substr(e)+"; return JSON.parse(JSON.stringify(json));")()}catch(o){}return n},o.utils.event={},o.utils.event.click=o.support.touch?"tap":"click",i.AMUI=o,i.fn.amui=o.fn,i.AMUI.langdirection="rtl"==i("html").attr("dir")?"right":"left",i.fn.emulateTransitionEnd=function(t){var e=!1,n=this;i(this).one(o.support.transition.end,function(){e=!0});var a=function(){e||i(n).trigger(o.support.transition.end)};return setTimeout(a,t),this},i.fn.redraw=function(){return i(this).each(function(){this.offsetHeight}),this},i.fn.transitionEnd=function(t){function e(o){t.call(this,o),n&&i.off(n,e)}var n=o.support.transition.end,i=this;return t&&n&&i.on(n,e),this},i.fn.removeClassRegEx=function(){return this.each(function(t){var e=i(this).attr("class");if(!e||!t)return!1;var n=[];e=e.split(" ");for(var o=0,a=e.length;a>o;o++)e[o].match(t)||n.push(e[o]);i(this).attr("class",n.join(" "))})},i.fn.alterClass=function(t,e){var n=this;if(-1===t.indexOf("*"))return n.removeClass(t),e?n.addClass(e):n;var o=new RegExp("\\s"+t.replace(/\*/g,"[A-Za-z0-9-_]+").split(" ").join("\\s|\\s")+"\\s","g");return n.each(function(t,e){for(var n=" "+e.className+" ";o.test(n);)n=n.replace(o," ");e.className=i.trim(n)}),e?n.addClass(e):n},i.fn.getHeight=function(){var t=i(this),e="auto";if(t.is(":visible"))e=t.height();else{var n={position:t.css("position"),visibility:t.css("visibility"),display:t.css("display")};e=t.css({position:"absolute",visibility:"hidden",display:"block"}).height(),t.css(n)}return e},i.fn.getSize=function(){var t=i(this);if("none"!==t.css("display"))return{width:t.width(),height:t.height()};var e={position:t.css("position"),visibility:t.css("visibility"),display:t.css("display")},n={display:"block",position:"absolute",visibility:"hidden"};t.css(n);var o=t.width(),a=t.height();return t.css(e),{width:o,height:a}};var l=i.fn.is,c=i.fn.filter;i.fn.is=function(t){return":visible"===t?n(this):":hidden"===t?!n(this):l.call(this,t)},i.fn.filter=function(t){return":visible"===t?i([].filter.call(this,n)):":hidden"===t?i([].filter.call(this,function(t){return!n(t)})):c.call(this,t)},o.utils.rAF=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(t){return window.setTimeout(t,1e3/60)}}(),o.utils.cancelAF=function(){return window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||function(t){window.clearTimeout(t)}}(),o.support.touch&&require.async(["util.fastclick"],function(t){i(function(){t&&t.attach(document.body),s.addClass("am-touch")})}),i(function(){i(document).trigger("domready:amui"),s.removeClass("no-js").addClass("js"),o.support.animation&&s.addClass("cssanimations");var t=i(".am-layout");t.find('[class*="md-block-grid"]').alterClass("md-block-grid-*"),t.find('[class*="lg-block-grid"]').alterClass("lg-block-grid"),i("[data-am-widget]").each(function(){var t=i(this);0===t.parents(".am-layout").length&&t.addClass("am-no-layout")})}),e.exports=o}),define("accordion",["ui.accordion"],function(require,t){var e=(require("ui.accordion"),window.Zepto),n=function(){e(".am-accordion").each(function(t,n){var i=e(n).attr("data-accordion-settings");try{i=JSON.parse(i),e(n).accordion(i)}catch(o){e(n).accordion()}})};e(function(){n()}),t.init=n}),define("divider",[],function(){}),define("figure",["zepto.pinchzoom"],function(require,t){var e=window.Zepto,n=require("zepto.pinchzoom");e.isImgZoomAble=function(t){var n=new Image;n.src=t.src;var i=e(t).width()<n.width;return i&&e(t).parent(".am-figure").addClass("am-figure-zoomable"),i},e.fn.imgZoomToggle=function(){return this.each(function(){var t=e.isImgZoomAble(this),i=e('<div class="am-figure-wrap"><div class="pinch-zoom"></div></div>');$zoomWrap=e(".am-figure-wrap"),0==$zoomWrap.length&&(e("body").append(i),$zoomWrap=e(".am-figure-wrap"),$pinch=$zoomWrap.find(".pinch-zoom"),$pinch.each(function(){new n(e(this),{})})),t&&($pinch.empty().html(this.outerHTML),$zoomWrap.find("img").width(e(window).width()),e(this).parent(".am-figure").on("click",function(){$zoomWrap.toggleClass("am-active")}),$zoomWrap.on("click",function(t){t.preventDefault();var n=t.target;e(n).is("img")||e(this).toggleClass("am-active")}))})};var i=function(){e(".am-figure img").imgZoomToggle()};e(window).on("load",function(){i()}),t.init=i}),define("footer",["core","zepto.extend.fx","zepto.extend.data","zepto.extend.selector","ui.add2home","util.cookie","ui.modal"],function(require,t){require("core"),require("ui.add2home");var e=require("util.cookie"),n=(require("ui.modal"),window.Zepto),i=function(){n(".am-footer-ysp").on("click",function(){n("#am-switch-mode").modal()}),n('[data-rel="desktop"]').on("click",function(t){t.preventDefault(),window.AMPlatform?AMPlatform.util.goDesktop():(e.set("allmobilize","desktop","","/"),window.location=window.location)})};n(window).on("load",function(){i()}),t.init=i}),define("gallery",["zepto.touchgallery"],function(require,t){function e(t){var e=n("<li class='am-gallery-more'><a href='javascript:;' class='am-btn am-btn-default'>更多 &gt;&gt;</a></li>");t.children().length>6&&(t.children().each(function(t){t>5&&n(this).hide()}),t.find(".am-gallery-more").remove(),t.append(e)),n(".am-gallery-more").on("click",function(){t.children().show(),n(this).hide()})}var n=(require("zepto.touchgallery"),window.Zepto),i=function(){var t=n(".am-gallery-one");n("[data-am-gallery] a").touchTouch(),t.each(function(){e(n(this))})};n(function(){i()}),t.init=i}),define("gotop",["./ui.smooth-scroll","core","zepto.extend.fx","zepto.extend.data","zepto.extend.selector"],function(require,t){require("./ui.smooth-scroll");var e=window.Zepto,n=(e.AMUI,function(){e(".am-gotop").find("a").on("click",function(t){t.preventDefault(),e("body").smoothScroll(0)})});e(function(){n()}),t.init=n}),define("intro",[],function(){window.Zepto}),define("list_news",[],function(require,t){function e(t){var e=t.find(".am-list"),i="<a class='am-list-news-more am-btn am-btn-default' href='###'>更多 &gt;&gt;</a>";e.children().length>6&&(e.children().each(function(t){t>5&&n(this).hide()}),t.find(".am-list-news-more").remove(),t.append(i)),n(".am-list-news-more").on("click",function(){e.children().show(),n(this).hide()})}var n=window.Zepto,i=function(){n(".am-list-news-one").each(function(){e(n(this))})};n(function(){i()}),t.init=i}),define("map",["core","zepto.extend.fx","zepto.extend.data","zepto.extend.selector"],function(require,t){function e(t){var e=i("<script/>",{src:"http://api.map.baidu.com/getscript?type=quick&file=api&ak=WVAXZ05oyNRXS5egLImmentg&t=20140109092002"});i("body").append(e),e.on("load",function(){var e=i("<script/>",{src:"http://api.map.baidu.com/getscript?type=quick&file=feature&ak=WVAXZ05oyNRXS5egLImmentg&t=20140109092002"});i("body").append(e),e.on("load",function(){var e=document.createElement("script");e.textContent="("+t.toString()+")();",i("body")[0].appendChild(e)})})}function n(){var t=document.querySelector(".am-map"),e=116.331398,n=39.897445,i=t.getAttribute("data-name"),o=t.getAttribute("data-address"),a=t.getAttribute("data-longitude")||e,r=t.getAttribute("data-latitude")||n,s=new BMap.Map("bd-map"),l=new BMap.Point(a,r);s.centerAndZoom(l,18),s.addControl(new BMap.ZoomControl);var c={width:200,title:i},u=new BMap.InfoWindow("地址："+o,c),d=new BMap.Geocoder;a==e&&r==n?d.getPoint(o,function(t){t&&(s.centerAndZoom(t,17),s.addOverlay(new BMap.Marker(t)),s.openInfoWindow(u,t))},""):d.getLocation(l,function(){s.centerAndZoom(l,17),s.addOverlay(new BMap.Marker(l)),o?s.openInfoWindow(u,l):s.openInfoWindow(new BMap.InfoWindow(o,c),l)})}require("core");var i=window.Zepto,o=function(){i(".am-map").length&&e(n)};i(document).on("ready",o),t.init=o}),define("menu",["nav","zepto.outerdemension","zepto.extend.data","zepto.extend.selector","zepto.extend.fx","core","ui.offcanvas"],function(require,t){require("nav"),require("ui.offcanvas");var e=window.Zepto,n=e.AMUI,i=function(){function t(){e(".am-menu-wrap .am-parent").children("a").removeClass("active").siblings(".am-menu-lv3").animate({opacity:0},"fast","linear").css("display","none")}function i(n){function i(){e.each(l,function(t){return u+=-l[t],parseInt(n.css("left"))>=u?(s=t,!1):void 0}),u=0,e(document).off("touchend MSPointerUp pointerup",i),e(document).off("touchmove MSPointerMove pointermove",o)}function o(t){t.preventDefault();var e=t.targetTouches[0],i=e.clientX-r;i>0&&(i=0),i<-n.width()+n.parent().width()-2*a.width()&&(i=-n.width()+n.parent().width()-2*a.width()),n.css("left",i)}var r,c,u=0;n.on("touchstart MSPointerDown pointerdown",function(n){t(),n.preventDefault();var a=n.targetTouches[0];r=a.clientX-e(this).offset().left,c=a.clientX,e(document).on("touchmove MSPointerMove pointermove",o),e(document).on("touchend MSPointerUp pointerup",i)})}var o,a,r,s,l,c,u;e(".am-menu").not("[data-am-nav]").not(".am-menu-one").each(function(){var t=e(this);if(!t.data("nav")){new n.nav(t,t.data("am-nav")?n.utils.options(t.data("am-nav")):{})}}),e(".am-menu").hasClass("am-menu-one")&&(o=e(".am-menu-one"),a=e("<a>").attr({"class":"am-menu-next",href:"javascript:;"}),r=0,s=-1,l=[],c=e(".am-menu-lv2"),u=e(".am-menu-lv3"),o.children("li").find("a").eq(0).attr("href","javascript:;").addClass("am-menu-prev am-menu-disabled"),o.find("li").eq(0).append(a),o.find(".am-menu-lv2").wrap("<div class='am-menu-wrap'></div>"),c.children("li").children("a").each(function(){e(this).parent().width(e(this).width()),r+=e(this).width(),l.push(r)}),c.find(".am-parent").each(function(){var t=e(this).find("a"),n=e("<li class='am-menu-item-more'><a class='am-menu-item-close' href='javascript:;'>×</a><a class='am-menu-item-into' href="+t.attr("href")+">进入"+t.html()+"</a></li>");t.attr("href","javascript:;"),e(this).find(".am-menu-lv3").append(n)}),c.width(r),u.width(e(".am-menu-lv1").width()-20),e(".am-menu-wrap .am-parent").children("a").on("click",function(){e(this).hasClass("active")?(e(this).removeClass("active"),e(this).siblings(".am-menu-lv3").animate({opacity:0},"fast","linear",function(){e(this).css("display","none")})):(t(),e(this).addClass("active"),e(this).siblings(".am-menu-lv3").css("display","block").animate({left:-e(this).offset().left+10,opacity:1},"fast","linear"))}),e(".am-menu-next").on("click",function(){t(),-l[s]+parseInt(c.css("left"))<-c.width()+c.parent().width()-2*a.width()?(c.animate({left:-c.width()+c.parent().width()-2*a.width()},"fast","linear"),e(this).addClass("am-menu-disabled")):(s++,c.animate({left:-l[s]},"fast","linear"),e(".am-menu-prev").removeClass("am-menu-disabled"))}),e(".am-menu-item-close").on("click",function(){t()}),e(".am-menu-prev").on("click",function(){t(),-1>=s?(c.animate({left:0},"fast","linear"),e(this).addClass("am-menu-disabled")):(s--,c.animate({left:-l[s]},"fast","linear"),e(".am-menu-next").removeClass("am-menu-disabled"))}),i(c))};e(function(){i()}),t.init=i}),define("nav",["./zepto.outerdemension","./zepto.extend.data","./zepto.extend.selector","./zepto.extend.fx","./core","zepto.extend.fx","zepto.extend.data","zepto.extend.selector"],function(require){function t(t){var e=t,n="auto";if(e.is(":visible"))n=e.outerHeight();else{var i=e.css("position");e.show(),e.css({position:"absolute",visibility:"hidden",height:"auto"}),n=e.outerHeight(),e.css({position:i,visibility:"visible",overflow:"hidden",height:0})}return n}require("./zepto.outerdemension"),require("./zepto.extend.data"),require("./zepto.extend.selector"),require("./zepto.extend.fx"),require("./core");var e=window.Zepto,n=e.AMUI,i=function(n,i){var o=this,a=e(n);a.data("nav")||(this.options=e.extend({},this.options,i),this.element=a.on("click",this.options.trigger,function(t){t.preventDefault();var n=e(this);o.toggleNav(n.parent(".am-parent"))}),this.element.find(this.options.lists).each(function(){var n=e(this),i=n.parent(),o=t(n);i.data("list-container",n).attr("data-nav-height",o)}),this.element.data("nav",this))};e.extend(i.prototype,{options:{trigger:".am-parent > a",lists:".am-parent > ul",multiple:!1},toggleNav:function(t,n){var i=(this.element,e(t));this.options.multiple||i.siblings(".am-open").each(function(){e(this).data("list-container")&&e(this).removeClass("am-open").data("list-container").animate({height:0},function(){})}),i.toggleClass("am-open");var o=i.data("list-container"),a=o.css("position");if(i.data("list-container"))if(n)i.data("list-container").height(i.hasClass("am-open")?"auto":0);else{var r=i.parents(".am-parent");if(r.length>0){var s=r.eq(0).data("list-container"),l=i.hasClass("am-open")&&"absolute"!=a?Number(i.attr("data-nav-height")):0;s.animate({height:Number(r.attr("data-nav-height"))+l}),"absolute"==a&&s.css({overflow:i.hasClass("am-open")?"visible":"hidden"})}i.data("list-container").animate({height:i.hasClass("am-open")?i.attr("data-nav-height")+"px":0});var c=i.find(".am-menu-sub");c.length>0&&!i.hasClass("am-open")&&c.each(function(t,n){e(n).animate({height:0,overflow:"hidden"}),e(n).parent(".am-parent.am-open").not(i).removeClass("am-open")})}}}),n.nav=i,e(function(){e("[data-am-nav]").each(function(){var t=e(this);if(!t.data("nav")){new i(t,n.utils.options(t.data("am-nav")))}})})}),define("navbar",["core","zepto.extend.fx","zepto.extend.data","zepto.extend.selector","util.qrcode","ui.modal"],function(require,t){require("core");var e=window.Zepto,n=require("util.qrcode"),i=(require("ui.modal"),function(){function t(){s.append(e('<li class="am-navbar-item am-navbar-more"><a href="javascript:;"><span class="am-icon-chevron-up"></span>更多</a></li>'))}function i(){return parseInt(e(window).width()/c)}function o(t){l.not(".am-navbar-more").each(function(n){n>t-2&&e(this).appendTo(e(".am-navbar-moreList"))})}function a(t,e){var n=e.attr("class").replace(/sm-block-grid-\d/,"sm-block-grid-"+t);e.attr("class",n)}var r=e(".am-navbar"),s=r.find("ul"),l=r.find("li"),c=(l.width(),100),u=null,d=null,h=!0,p=!0,f=e("body"),m=e("[data-am-navbar-share]"),v=e("[data-am-navbar-qrcode]"),g=r.css("position");if("fixed"==g&&f.addClass("with-fixed-navbar"),v.length){var w=e("[data-am-navbar-qrcode]").attr("data-am-navbar-qrcode"),y=window.location.href,b=e("<div class=\"am-modal am-modal-no-btn\" id='am-navbar-boxqrcode'><div class='am-modal-dialog' id='am-navbar-qrcode-data'></div></div>");if(f.append(b),w)e("#am-navbar-qrcode-data").html('<img src="'+w+'"/>');else{var x=new n({render:"canvas",correctLevel:0,text:y,width:190,height:190,background:"#fff",foreground:"#000"});e("#am-navbar-qrcode-data").html(x)}}if(m.addClass("am-navbar-share"),v.addClass("am-navbar-qrcode"),m.length){window._bd_share_config={common:{bdSnsKey:{},bdText:"",bdMini:"2",bdMiniList:!1,bdPic:"",bdStyle:"1",bdSize:"16"},share:{bdSize:24}},f.append(e("<script />",{src:"http://bdimg.share.baidu.com/static/api/js/share.js?v=89343201.js?cdnversion="+~(-new Date/36e5)}));var C='<div class="bdsharebuttonbox"><div class="am-modal-actions am-modal-out" id="am-navbar-share"><div class="am-modal-actions-group"><ul class="am-list"><li class="am-modal-actions-header" data-cmd="more">分享到</li><li><a href="#" class="am-icon-qq" data-cmd="qzone" title="分享到QQ空间">QQ空间</a></li><li><a href="#" class="am-icon-weibo" data-cmd="tsina" title="分享到新浪微博">新浪微博</a></li><li><a href="#" class="am-icon-tencent-weibo" data-cmd="tqq" title="分享到腾讯微博">腾讯微博</a></li><li><a href="#" class="am-icon-renren" data-cmd="renren" title="分享到人人网">人人网</a></li><li><a href="#" class="am-icon-wechat" data-cmd="weixin" title="分享到微信">微信</a></li></ul></div><div class="am-modal-actions-group"><button type="button" class="am-btn am-btn-secondary am-btn-block" data-am-modal-close>取消</button></div></div></div>';f.append(C),m.on("click",function(t){t.preventDefault(),e("#am-navbar-share").modal()})}if(v.length&&v.on("click",function(t){t.preventDefault(),e("#am-navbar-boxqrcode").modal()}),r.length&&f.append(e('<ul class="am-navbar-moreList"></ul>')),r.find("li").length*r.find("li").width()>e(window).width()){a(r.find("li").length,s);var T=r.find("li").width();c>T&&(p&&(t(),p=!1),a(i(),s),o(i()))}u=e(".am-navbar-more"),d=e(".am-navbar-moreList"),r.on("click",".am-navbar-more",function(){h?(d.css({bottom:d.height(),display:"block"}).animate({bottom:49},{duration:"fast",complete:function(){u.addClass("am-navbar-more-active")}}),h=!h):(d.animate({bottom:-d.height()},{complete:function(){e(this).css("display","none"),u.removeClass("am-navbar-more-active")}}),h=!h)})});e(function(){i()}),t.init=i}),define("pagination",[],function(){}),define("paragraph",["core","zepto.extend.fx","zepto.extend.data","zepto.extend.selector","zepto.pinchzoom"],function(require,t){require("core");var e,n=window.Zepto,i=require("zepto.pinchzoom");n.fn.paragraphZoomToggle=function(){var t,e,o,a=!0,r=n("<div class='am-paragraph-wrap'><header></header><div class='pinch-zoom'></div></div>");o=n(".am-paragraph-wrap"),t=n(".am-paragraph-wrap header"),e=o.find(".pinch-zoom"),this.each(function(){n(this).on("click",function(){a&&n(".am-paragraph").length&&(n("body").append(r),o=n(".am-paragraph-wrap"),e=o.find(".pinch-zoom"),t=o.find("header"),e.each(function(){new i(n(this),{})}),a=!1),e.html(this.outerHTML),t.html(n(this).attr("alt")?n(this).attr("alt"):"返回"),o.addClass("am-active").find("img").width(n(window).width())})})},n.fn.paragraphTable=function(t){function e(t){t.preventDefault();var o=(t.changedTouches[0],r.offset().left);o>10&&r.animate({left:10},500,"ease-out"),o<-r.width()+n(window).width()-10&&r.animate({left:-r.width()+n(window).width()-10},500,"ease-out"),n(document).off("touchend MSPointerUp pointerup",e),n(document).off("touchmove MSPointerMove pointermove",i)}function i(t){var e=t.targetTouches[0];u=e.clientX-o,d=e.clientY-a,"undefined"==typeof s&&(s=!!(s||Math.abs(u)<Math.abs(d))),s||(t.preventDefault(),l.parent().css("left",e.clientX-c))}var o,a,r,s,l=n(this),c=0,u=0,d=0;t>n("body").width()&&(l.wrap("<div class='am-paragraph-table-container'><div class='am-paragraph-table-scroller'></div></div>"),r=l.parent(),r.width(t),r.height(l.height()),r.parent().height(l.height()+20),r.on("touchstart MSPointerDown pointerdown",function(t){var r=t.targetTouches[0];c=r.clientX-n(this).offset().left,o=r.clientX,a=r.clientY,s=void 0,n(document).on("touchmove MSPointerMove pointermove",i),n(document).on("touchend MSPointerUp pointerup",e)}))},e=function(){var t,e=n("body"),i=n(".am-paragraph");i.length&&i.attr("data-am-imgParagraph")&&(i.find("img").paragraphZoomToggle(),e.on("click",".am-paragraph-wrap",function(t){t.preventDefault();var e=t.target;n(e).is("img")||n(this).toggleClass("am-active")})),i.length&&i.attr("data-am-tableParagraph")&&i.find("table").each(function(){t=n(this).width(),n(this).paragraphTable(t)})},n(window).on("load",function(){e()}),t.init=e}),define("slider",["zepto.flexslider"],function(require,t){var e=window.Zepto;require("zepto.flexslider");var n=function(){e(".am-slider").not(".am-slider-manual").each(function(t,n){var i=e(n).attr("data-slider-config");i?e(n).flexslider(e.parseJSON(i)):e(n).flexslider()})};e(document).on("ready",n),t.init=n}),define("sohucs",[],function(require,t){var e=window.Zepto,n=function(){if(e("#SOHUCS").length){var t=e('[data-am-widget="sohucs"]'),n=t.attr("data-am-sohucs-appid"),i=t.attr("data-am-sohucs-conf"),o=e("<script></script>",{charset:"utf-8",id:"changyan_mobile_js",src:"http://changyan.sohu.com/upload/mobile/wap-js/changyan_mobile.js?client_id="+n+"&conf="+i});e("body").append(o)}};e(window).on("load",n),t.init=n}),define("tabs",["zepto.extend.touch","core","zepto.extend.fx","zepto.extend.data","zepto.extend.selector"],function(require,t){function e(t){var e,i=t.find(".am-tabs-bd-content"),o=i.children(),a=0,r=t.find(".am-tabs-hd").children();i.width(i.parent().width()*o.length),o.width(i.parent().width()),e=o.width(),n(window).on("resize",function(){i.width(i.parent().width()*o.length),o.width(i.parent().width()),e=o.width()}),i.swipeRight(function(){a--,0>a&&(a=0),i.animate({left:-a*e}),r.removeClass("am-tabs-hd-active"),r.eq(a).addClass("am-tabs-hd-active")}),i.swipeLeft(function(){a++,a>o.length-1&&(a=o.length-1),i.animate({left:-a*e}),r.removeClass("am-tabs-hd-active"),r.eq(a).addClass("am-tabs-hd-active")}),r.on("click",function(){a=n(this).index(),r.removeClass("am-tabs-hd-active"),r.eq(a).addClass("am-tabs-hd-active"),i.animate({left:-a*e})})}require("zepto.extend.touch"),require("core");var n=window.Zepto,i=function(){n(".am-tabs").each(function(){e(n(this))})};n(function(){i()}),t.init=i}),define("titlebar",[],function(){}),define("ui.accordion",["./zepto.extend.fx","./zepto.extend.selector","./zepto.extend.data"],function(require){var t=window.Zepto;require("./zepto.extend.fx"),require("./zepto.extend.selector"),require("./zepto.extend.data"),/**
     * @via https://github.com/Semantic-Org/Semantic-UI/blob/master/src/modules/accordion.js
     * @license https://github.com/Semantic-Org/Semantic-UI/blob/master/LICENSE.md
     */
t.fn.accordion=function(e){var n,i=t(this),o=arguments[0],a="string"==typeof o,r=[].slice.call(arguments,1);return i.each(function(){var i,s=t.isPlainObject(e)?t.extend(!0,{},t.fn.accordion.settings,e):t.extend({},t.fn.accordion.settings),l=s.className,c=s.namespace,u=s.selector,d="."+c,h="module-"+c,p=t(this),f=p.find(u.title),m=(p.find(u.content),p.find(u.item)),v=this,g=p.data(h);i={initialize:function(){f.on("click"+d,i.event.click),i.instantiate()},instantiate:function(){g=i,p.data(h,i)},destroy:function(){p.removeData(h),f.off(d)},event:{click:function(){var e=t(this),n=m.index(e.parent(u.item));i.toggle(n)}},toggle:function(t){var e=m.eq(t),n=e.hasClass(l.active);n?s.collapsible&&i.close(t):i.open(t)},open:function(e){var n=m.eq(e),i=n.next(u.content);s.multiple||m.not(n).removeClass(l.active),n.addClass(l.active),i.animate(s.duration,s.easing,function(){t.proxy(s.onOpen,i)(),t.proxy(s.onChange,i)()})},close:function(e){var n=m.eq(e),i=n.find(u.content);n.removeClass(l.active),i.animate(s.duration,s.easing,function(){t.proxy(s.onClose,i)(),t.proxy(s.onChange,i)()})},setting:function(e,n){if(t.isPlainObject(e))t.extend(!0,s,e);else{if(void 0===n)return s[e];s[e]=n}},internal:function(e,n){return void 0===n?i[e]:void(t.isPlainObject(e)?t.extend(!0,i,e):i[e]=n)},invoke:function(e,i,o){var a,s,l,c=g;return i=i||r,o=v||o,"string"==typeof e&&void 0!==c&&(e=e.split(/[\. ]/),a=e.length-1,t.each(e,function(n,i){var o=n!=a?i+e[n+1].charAt(0).toUpperCase()+e[n+1].slice(1):e;if(t.isPlainObject(c[o])&&n!=a)c=c[o];else{if(void 0!==c[o])return s=c[o],!1;if(!t.isPlainObject(c[i])||n==a)return void 0!==c[i]?(s=c[i],!1):!1;c=c[i]}})),t.isFunction(s)?l=s.apply(o,i):void 0!==s&&(l=s),t.isArray(n)?n.push(l):void 0!==n?n=[n,l]:void 0!==l&&(n=l),s}},a?(void 0===g&&i.initialize(),i.invoke(o)):(void 0!==g&&i.destroy(),i.initialize())}),void 0!==n?n:this},t.fn.accordion.settings={name:"Accordion",namespace:"accordion",multiple:!1,collapsible:!0,duration:500,easing:"ease-in-out",onOpen:function(){},onClose:function(){},onChange:function(){},className:{active:"am-active"},selector:{item:".am-accordion-item",title:".am-accordion-title",content:".am-accordion-content"}}}),define("ui.add2home",[],function(){/*!
     * Add to Homescreen v2.0.11 ~ Copyright (c) 2013 Matteo Spinelli, http://cubiq.org
     * Released under MIT license, http://cubiq.org/license
     */
!function(t){function e(){if(k){var e,i=Date.now();if(t.addToHomeConfig)for(e in t.addToHomeConfig)P[e]=t.addToHomeConfig[e];P.autostart||(P.hookOnLoad=!1),d=/ipad/gi.test(T.platform),h=t.devicePixelRatio&&t.devicePixelRatio>1,p=/Safari/i.test(T.appVersion)&&!/CriOS/i.test(T.appVersion),f=T.standalone,m=T.appVersion.match(/OS (\d+_\d+)/i),m=m&&m[1]?+m[1].replace("_","."):0,A=+t.localStorage.getItem("addToHome"),g=t.sessionStorage.getItem("addToHomeSession"),w=P.returningVisitor?A&&A+24192e5>i:!0,A||(A=i),v=w&&i>=A,P.hookOnLoad?t.addEventListener("load",n,!1):!P.hookOnLoad&&P.autostart&&n()}}function n(){if(t.removeEventListener("load",n,!1),w?P.expire&&v&&t.localStorage.setItem("addToHome",Date.now()+6e4*P.expire):t.localStorage.setItem("addToHome",Date.now()),b||p&&v&&!g&&!f&&w){var e="",o=T.platform.split(" ")[0],a=T.language.replace("-","_");y=document.createElement("div"),y.id="addToHomeScreen",y.style.cssText+="left:-9999px;-webkit-transition-property:-webkit-transform,opacity;-webkit-transition-duration:0;-webkit-transform:translate3d(0,0,0);position:"+(5>m?"absolute":"fixed"),P.message in z&&(a=P.message,P.message=""),""===P.message&&(P.message=a in z?z[a]:z.en_us),P.touchIcon&&(e=document.querySelector(h?'head link[rel^=apple-touch-icon][sizes="114x114"],head link[rel^=apple-touch-icon][sizes="144x144"],head link[rel^=apple-touch-icon]':'head link[rel^=apple-touch-icon][sizes="57x57"],head link[rel^=apple-touch-icon]'),e&&(e='<span style="background-image:url('+e.href+')" class="addToHomeTouchIcon"></span>')),y.className=(m>=7?"addToHomeIOS7 ":"")+(d?"addToHomeIpad":"addToHomeIphone")+(e?" addToHomeWide":""),y.innerHTML=e+P.message.replace("%device",o).replace("%icon",m>=4.2?'<span class="addToHomeShare"></span>':'<span class="addToHomePlus">+</span>')+(P.arrow?'<span class="addToHomeArrow"'+(m>=7&&d&&e?' style="margin-left:-32px"':"")+"></span>":"")+(P.closeButton?'<span class="addToHomeClose">×</span>':""),document.body.appendChild(y),P.closeButton&&y.addEventListener("click",r,!1),!d&&m>=6&&window.addEventListener("orientationchange",u,!1),setTimeout(i,P.startDelay)}}function i(){var e,n=208;if(d)switch(5>m?(S=t.scrollY,E=t.scrollX):6>m?n=160:m>=7&&(n=143),y.style.top=S+P.bottomOffset+"px",y.style.left=Math.max(E+n-Math.round(y.offsetWidth/2),9)+"px",P.animationIn){case"drop":e="0.6s",y.style.webkitTransform="translate3d(0,"+-(t.scrollY+P.bottomOffset+y.offsetHeight)+"px,0)";break;case"bubble":e="0.6s",y.style.opacity="0",y.style.webkitTransform="translate3d(0,"+(S+50)+"px,0)";break;default:e="1s",y.style.opacity="0"}else switch(S=t.innerHeight+t.scrollY,5>m?(E=Math.round((t.innerWidth-y.offsetWidth)/2)+t.scrollX,y.style.left=E+"px",y.style.top=S-y.offsetHeight-P.bottomOffset+"px"):(y.style.left="50%",y.style.marginLeft=-Math.round(y.offsetWidth/2)-(t.orientation%180&&m>=6&&7>m?40:0)+"px",y.style.bottom=P.bottomOffset+"px"),P.animationIn){case"drop":e="1s",y.style.webkitTransform="translate3d(0,"+-(S+P.bottomOffset)+"px,0)";break;case"bubble":e="0.6s",y.style.webkitTransform="translate3d(0,"+(y.offsetHeight+P.bottomOffset+50)+"px,0)";break;default:e="1s",y.style.opacity="0"}y.offsetHeight,y.style.webkitTransitionDuration=e,y.style.opacity="1",y.style.webkitTransform="translate3d(0,0,0)",y.addEventListener("webkitTransitionEnd",s,!1),C=setTimeout(a,P.lifespan)}function o(t){k&&!y&&(b=t,n())}function a(){if(clearInterval(x),clearTimeout(C),C=null,y){var e=0,n=0,i="1",o="0";switch(P.closeButton&&y.removeEventListener("click",r,!1),!d&&m>=6&&window.removeEventListener("orientationchange",u,!1),5>m&&(e=d?t.scrollY-S:t.scrollY+t.innerHeight-S,n=d?t.scrollX-E:t.scrollX+Math.round((t.innerWidth-y.offsetWidth)/2)-E),y.style.webkitTransitionProperty="-webkit-transform,opacity",P.animationOut){case"drop":d?(o="0.4s",i="0",e+=50):(o="0.6s",e+=y.offsetHeight+P.bottomOffset+50);break;case"bubble":d?(o="0.8s",e-=y.offsetHeight+P.bottomOffset+50):(o="0.4s",i="0",e-=50);break;default:o="0.8s",i="0"}y.addEventListener("webkitTransitionEnd",s,!1),y.style.opacity=i,y.style.webkitTransitionDuration=o,y.style.webkitTransform="translate3d("+n+"px,"+e+"px,0)"}}function r(){t.sessionStorage.setItem("addToHomeSession","1"),g=!0,a()}function s(){return y.removeEventListener("webkitTransitionEnd",s,!1),y.style.webkitTransitionProperty="-webkit-transform",y.style.webkitTransitionDuration="0.2s",C?void(5>m&&C&&(x=setInterval(l,P.iterations))):(y.parentNode.removeChild(y),void(y=null))}function l(){var e=new WebKitCSSMatrix(t.getComputedStyle(y,null).webkitTransform),n=d?t.scrollY-S:t.scrollY+t.innerHeight-S,i=d?t.scrollX-E:t.scrollX+Math.round((t.innerWidth-y.offsetWidth)/2)-E;(n!=e.m42||i!=e.m41)&&(y.style.webkitTransform="translate3d("+i+"px,"+n+"px,0)")}function c(){t.localStorage.removeItem("addToHome"),t.sessionStorage.removeItem("addToHomeSession")}function u(){y.style.marginLeft=-Math.round(y.offsetWidth/2)-(t.orientation%180&&m>=6&&7>m?40:0)+"px"}var d,h,p,f,m,v,g,w,y,b,x,C,T=t.navigator,k="platform"in T&&/iphone|ipod|ipad/gi.test(T.platform),E=0,S=0,A=0,P={autostart:!0,returningVisitor:!1,animationIn:"drop",animationOut:"fade",startDelay:2e3,lifespan:15e3,bottomOffset:14,expire:0,message:"",touchIcon:!1,arrow:!0,hookOnLoad:!0,closeButton:!0,iterations:100},z={en_us:"Install this web app on your %device: tap %icon and then <strong>Add to Home Screen</strong>.",zh_cn:"您可以将此应用安装到您的 %device 上。请按 %icon 然后选择<strong>添加至主屏幕</strong>。",zh_tw:"您可以將此應用程式安裝到您的 %device 上。請按 %icon 然後點選<strong>加入主畫面螢幕</strong>。"};return e(),{show:o,close:a,reset:c}}(window)}),define("ui.alert",["core","zepto.extend.fx","zepto.extend.data","zepto.extend.selector"],function(require,t,e){"use strict";require("core");var n=window.Zepto,i=n.AMUI,o=function(t,e){this.options=n.extend({},o.DEFAULTS,e),this.$element=n(t),this.$element.addClass("am-fade am-in").on("click",".am-close",n.proxy(this.close,this))};o.DEFAULTS={removeElement:!0},o.prototype.close=function(){function t(){o.off().trigger("closed:alert:amui").remove()}var e=n(this),o=e.hasClass("am-alert")?e:e.parent(".am-alert");o.trigger("close:alert:amui"),o.removeClass("am-in"),i.support.transition&&o.hasClass("am-fade")?o.one(i.support.transition.end,t).emulateTransitionEnd(200):t()},i.alert=o,n.fn.alert=function(t){return this.each(function(){var e=n(this),i=e.data("amui.alert"),a="object"==typeof t&&t;i||e.data("amui.alert",i=new o(this,a)),"string"==typeof t&&i[t].call(e)})},n(document).on("click.alert.amui","[data-am-alert]",function(t){var e=n(t.target);n(this).addClass("am-fade am-in"),e.is(".am-close")&&n(this).alert("close")}),e.exports=o}),define("ui.button",["core","zepto.extend.fx","zepto.extend.data","zepto.extend.selector"],function(require,t,e){"use strict";function n(t){return this.each(function(){var e=i(this),n=e.data("amui.button"),o="object"==typeof t&&t;n||e.data("amui.button",n=new a(this,o)),"toggle"==t?n.toggle():t&&n.setState(t)})}require("core");var i=window.Zepto,o=i.AMUI,a=function(t,e){this.$element=i(t),this.options=i.extend({},a.DEFAULTS,e),this.isLoading=!1,this.hasSpinner=!1};a.DEFAULTS={loadingText:"loading...",loadingClass:"am-btn-loading",loadingWithSpinner:'<span class="am-icon-refresh am-icon-spin"></span> loading...'},a.prototype.setState=function(t){var e="disabled",n=this.$element,a=n.is("input")?"val":"html",r=n.data();t+="Text",null==r.resetText&&n.data("resetText",n[a]()),o.support.animation&&!this.hasSpinner&&"html"===a&&(this.options.loadingText=this.options.loadingWithSpinner,this.hasSpinner=!0),n[a](null==r[t]?this.options[t]:r[t]),setTimeout(i.proxy(function(){"loadingText"==t?(this.isLoading=!0,n.addClass(e+" "+this.options.loadingClass).attr(e,e)):this.isLoading&&(this.isLoading=!1,n.removeClass(e+" "+this.options.loadingClass).removeAttr(e))},this),0)},a.prototype.toggle=function(){var t=!0,e=this.$element.parent(".am-btn-group");if(e.length){var n=this.$element.find("input");"radio"==n.prop("type")&&(n.prop("checked")&&this.$element.hasClass("am-active")?t=!1:e.find(".am-active").removeClass("am-active")),t&&n.prop("checked",!this.$element.hasClass("am-active")).trigger("change")}t&&this.$element.toggleClass("am-active")},i.fn.button=n,i(document).on("click.button.amui","[data-am-button]",function(t){var e=i(t.target);e.hasClass("am-btn")||(e=e.closest(".am-btn")),n.call(e,"toggle"),t.preventDefault()}),e.exports=a}),define("ui.collapse",["core","zepto.extend.fx","zepto.extend.data","zepto.extend.selector"],function(require,t,e){"use strict";function n(t){return this.each(function(){var e=i(this),n=e.data("amui.collapse"),r=i.extend({},a.DEFAULTS,o.utils.options(e.attr("data-am-collapse")),"object"==typeof t&&t);!n&&r.toggle&&"open"==t&&(t=!t),n||e.data("amui.collapse",n=new a(this,r)),"string"==typeof t&&n[t]()})}require("core");var i=window.Zepto,o=i.AMUI,a=function(t,e){this.$element=i(t),this.options=i.extend({},a.DEFAULTS,e),this.transitioning=null,this.options.parent&&(this.$parent=i(this.options.parent)),this.options.toggle&&this.toggle()};a.DEFAULTS={toggle:!0},a.prototype.open=function(){if(!this.transitioning&&!this.$element.hasClass("am-in")){var t=i.Event("open:collapse:amui");if(this.$element.trigger(t),!t.isDefaultPrevented()){var e=this.$parent&&this.$parent.find("> .am-panel > .am-in");if(e&&e.length){var a=e.data("amui.collapse");if(a&&a.transitioning)return;n.call(e,"close"),a||e.data("amui.collapse",null)}this.$element.removeClass("am-collapse").addClass("am-collapsing").height(0),this.transitioning=1;var r=function(){this.$element.removeClass("am-collapsing").addClass("am-collapse am-in").height(""),this.transitioning=0,this.$element.trigger("opened:collapse:amui")};return o.support.transition?void this.$element.one(o.support.transition.end,i.proxy(r,this)).emulateTransitionEnd(350).height(this.$element[0].scrollHeight):r.call(this)}}},a.prototype.close=function(){if(!this.transitioning&&this.$element.hasClass("am-in")){var t=i.Event("close:collapse:amui");if(this.$element.trigger(t),!t.isDefaultPrevented()){this.$element.height(this.$element.height()),this.$element[0].offsetHeight,this.$element.addClass("am-collapsing").removeClass("am-collapse").removeClass("am-in"),this.transitioning=1;var e=function(){this.transitioning=0,this.$element.trigger("closed:collapse:amui").removeClass("am-collapsing").addClass("am-collapse")};return o.support.transition?void this.$element.height(0).one(o.support.transition.end,i.proxy(e,this)).emulateTransitionEnd(350):e.call(this)}}},a.prototype.toggle=function(){this[this.$element.hasClass("am-in")?"close":"open"]()},o.collapse=a,i.fn.collapse=n,i(document).on("click.collapse.amui","[data-am-collapse]",function(t){var e,a=i(this),r=o.utils.options(a.attr("data-am-collapse")),s=r.target||t.preventDefault()||(e=a.attr("href"))&&e.replace(/.*(?=#[^\s]+$)/,""),l=i(s),c=l.data("amui.collapse"),u=c?"toggle":r,d=r.parent,h=d&&i(d);c&&c.transitioning||(h&&h.find("[data-am-collapse]").not(a).addClass("am-collapsed"),a[l.hasClass("am-in")?"addClass":"removeClass"]("am-collapsed")),n.call(l,u)}),e.exports=a}),define("ui.dimmer",["core","zepto.extend.fx","zepto.extend.data","zepto.extend.selector"],function(require,t,e){require("core");var n=window.Zepto,i=n.AMUI,o=n('<div class="am-dimmer" data-am-dimmer></div>'),a=n(document),r=n("html"),s=function(){this.hasDimmer=n("[data-am-dimmer]").length?!0:!1,this.$element=o,n(document).on("ready",n.proxy(this.init,this))};s.prototype.init=function(){return this.hasDimmer||(o.appendTo(n("body")),this.events(),this.hasDimmer=!0),a.trigger("init:dimmer:amui"),this},s.prototype.open=function(t){return r.addClass("am-dimmer-active"),o.addClass("am-active"),n(t).length&&n(t).show(),a.trigger("open:dimmer:amui"),this},s.prototype.close=function(t){return o.removeClass("am-active"),r.removeClass("am-dimmer-active"),n(t).length&&n(t).hide(),a.trigger("close:dimmer:amui"),this},s.prototype.events=function(){o.on("click.dimmer.amui",function(){})};var l=new s;i.dimmer=l,e.exports=l}),define("ui.dropdown",["core","zepto.extend.fx","zepto.extend.data","zepto.extend.selector"],function(require){"use strict";function t(t){t&&3===t.which||n(o).each(function(){var e=n(this).parent(),i={relatedTarget:this};e.hasClass("am-active")&&(e.trigger(t=n.Event("close:dropdown:amui",i)),t.isDefaultPrevented()||e.removeClass("am-active").trigger(t=n.Event("closed:dropdown:amui",i)))})}function e(t){return this.each(function(){var e=n(this),i=e.data("amui.dropdown");i||e.data("amui.dropdown",i=new a(this)),"string"==typeof t&&i[t].call(e)})}require("core");var n=window.Zepto,i=n.AMUI,o="[data-am-dropdown] > .am-dropdown-toggle",a=function(t){n(t).on("click.dropdown.amui",this.toggle)};a.prototype.toggle=function(e){var i=n(this);if(!i.is(".am-disabled, :disabled")){var o=i.parent(),a=o.hasClass("am-active");if(t(),a)i.blur();else{var r={relatedTarget:this};if(o.trigger(e=n.Event("open:dropdown:amui",r)),e.isDefaultPrevented())return;i.trigger("focus"),o.toggleClass("am-active").trigger(e=n.Event("opened:dropdown:amui",r))}return!1}},a.prototype.keydown=function(t){if(/(38|40|27)/.test(t.keyCode)){var e=n(this);if(t.preventDefault(),t.stopPropagation(),!e.is(".am-disabled, :disabled")){var i=e.parent(),a=i.hasClass("am-active");return!a||a&&27==t.keyCode?(27==t.which&&i.find(o).trigger("focus"),e.trigger("click")):void 0}}},i.dropdown=a,n.fn.dropdown=e,n(document).on("click.dropdown.amui",".am-dropdown form",function(t){t.stopPropagation()}).on("click.dropdown.amui",o,a.prototype.toggle).on("keydown.dropdown.amui",o,a.prototype.keydown)}),define("ui.modal",["core","zepto.extend.fx","zepto.extend.data","zepto.extend.selector","ui.dimmer"],function(require,t,e){function n(t,e){return this.each(function(){var n=o(this),i=n.data("am.modal"),a=o.extend({},c.DEFAULTS,"object"==typeof t&&t);i||n.data("am.modal",i=new c(this,a)),"string"==typeof t?i[t](e):i.toggle(t&&t.relatedElement||void 0)})}require("core");var i=require("ui.dimmer"),o=window.Zepto,a=o.AMUI,r=(o(window),o(document)),s=o("body"),l=a.support.transition,c=function(t,e){this.options=o.extend({},c.DEFAULTS,e||{}),this.$element=o(t),this.isPopup=this.$element.hasClass("am-popup"),this.active=this.transitioning=null,this.events()};c.DEFAULTS={selector:{modal:".am-modal",active:".am-modal-active"},cancelable:!0,onConfirm:function(){},onCancel:function(){}},c.prototype.toggle=function(t){return this.active?this.close():this.open(t)},c.prototype.open=function(t){var e=this.$element,n=this.isPopup;if(!this.transitioning&&!this.active&&this.$element.length){n&&this.$element.show(),this.active=!0,e.trigger(o.Event("open:modal:amui",{relatedElement:t}));{e[0].clientLeft}i.open(),e.show(),!n&&e.redraw().css({marginTop:-e.height()/2+"px"}),e.removeClass("am-modal-out").addClass("am-modal-active"),this.transitioning=1;var a=function(){e.trigger(o.Event("opened:modal:amui",{relatedElement:t})),this.transitioning=0};return l?void e.one(l.end,o.proxy(a,this)):a.call(this)}},c.prototype.close=function(t){if(!this.transitioning&&this.active){var e=this.$element,n=this.isPopup;this.$element.trigger(o.Event("close:modal:amui",{relatedElement:t})),this.transitioning=1;var a=function(){e.trigger("closed.amui.modal"),n&&e.removeClass("am-modal-out"),e.hide(),this.transitioning=0};if(e.removeClass("am-modal-active").addClass("am-modal-out"),!l)return a.call(this);e.one(l.end,o.proxy(a,this)),s.find(c.DEFAULTS.selector.active).length||i.close(),this.active=!1}},c.prototype.events=function(){var t=this,e=this.$element,n=e.find(".am-modal-prompt-input");this.options.cancelable&&(e.on("keyup.modal.amui",o.proxy(function(t){this.active&&27===t.which&&(this.options.onCancel(),this.close())},t)),i.$element.on("click",function(){t.close()})),e.find("[data-am-modal-close]").on("click.modal.amui",function(e){e.preventDefault(),t.close()}),e.find(".am-modal-btn").on("click.modal.amui",function(){t.close()}),e.find("[data-am-modal-confirm]").on("click.modal.amui",function(){t.options.onConfirm(n.val())}),e.find("[data-am-modal-cancel]").on("click.modal.amui",function(){t.options.onCancel(n.val())})},o.fn.modal=n,r.on("click","[data-am-modal]",function(){var t=o(this),e=a.utils.parseOptions(t.attr("data-am-modal")),i=o(e.target||this.href&&this.href.replace(/.*(?=#[^\s]+$)/,"")),r=i.data("am.modal")?"toggle":e;n.call(i,r,this)}),e.exports=c}),define("ui.offcanvas",["zepto.outerdemension","zepto.extend.data","core","zepto.extend.fx","zepto.extend.selector"],function(require,t,e){function n(t,e){return this.each(function(){var n=o(this),i=n.data("am.offcanvas"),a=o.extend({},l.DEFAULTS,"object"==typeof t&&t);i||(n.data("am.offcanvas",i=new l(this,a)),i.open(e)),"string"==typeof t&&i[t]&&i[t](e)})}require("zepto.outerdemension"),require("zepto.extend.data"),require("core");var i,o=window.Zepto,a=o.AMUI,r=o(window),s=o(document),l=function(t,e){this.$element=o(t),this.options=e,this.events()};l.DEFAULTS={effect:"overlay"},l.prototype.open=function(){var t=this,e=this.$element,n=o.Event("open:offcanvas:amui");if(e.length&&!e.hasClass("am-active")){var l=this.options.effect,c=o("html"),u=e.find(".am-offcanvas-bar").first(),d=u.hasClass("am-offcanvas-bar-flip")?-1:1;u.addClass("am-offcanvas-bar-"+l),i={x:window.scrollX,y:window.scrollY},e.addClass("am-active"),c.css({width:"100%",height:r.height()}).addClass("am-offcanvas-page"),"overlay"!==l&&c.css({"margin-left":u.outerWidth()*d}).width(),c.css("margin-top",-1*i.y),a.utils.debounce(function(){u.addClass("am-offcanvas-bar-active").width()},0)(),s.trigger(n),e.off(".offcanvas.amui").on("click.offcanvas.amui swipeRight.offcanvas.amui swipeLeft.offcanvas.amui",function(e){var n=o(e.target);if(!e.type.match(/swipe/)){if(n.hasClass("am-offcanvas-bar"))return;if(n.parents(".am-offcanvas-bar").first().length)return}e.stopImmediatePropagation(),t.close()}),s.on("keydown.offcanvas.amui",function(e){27===e.keyCode&&t.close()})}},l.prototype.close=function(){var t=o("html"),e=this.$element,n=e.find(".am-offcanvas-bar").first();e.length&&e.hasClass("am-active")&&(e.trigger("close:offcanvas:amui"),a.support.transition?(t.one(a.support.transition.end,function(){t.removeClass("am-offcanvas-page").css({width:"",height:"","margin-top":""}),e.removeClass("am-active"),window.scrollTo(i.x,i.y)}).css("margin-left",""),a.utils.debounce(function(){n.removeClass("am-offcanvas-bar-active")},0)()):(t.removeClass("am-offcanvas-page").attr("style",""),e.removeClass("am-active"),n.removeClass("am-offcanvas-bar-active"),window.scrollTo(i.x,i.y)),e.off(".offcanvas.amui"))},l.prototype.events=function(){return s.on("click.offcanvas.amui",'[data-am-dismiss="offcanvas"]',o.proxy(function(t){t.preventDefault(),this.close()},this)),this},a.offcanvas=l,o.fn.offCanvas=n,s.on("click.offcanvas.amui","[data-am-offcanvas]",function(t){t.preventDefault();var e=o(this),i=a.utils.parseOptions(e.attr("data-am-offcanvas")),r=o(i.target||this.href&&this.href.replace(/.*(?=#[^\s]+$)/,""));option=r.data("am.offcanvas")?"open":i,n.call(r,option,this)}),e.exports=l}),define("ui.popover",["core","zepto.extend.fx","zepto.extend.data","zepto.extend.selector"],function(require,t,e){function n(t){return this.each(function(){var e=i(this),n=e.data("am.popover"),a=i.extend({},o.utils.parseOptions(e.attr("data-am-popover")),"object"==typeof t&&t);n||e.data("am.popover",n=new r(this,a)),"string"==typeof t&&n[t]()})}require("core");var i=window.Zepto,o=i.AMUI,a=i(window),r=(i(document),function(t,e){this.options=i.extend({},r.DEFAULTS,e||{}),this.$element=i(t),this.active=null,this.$popover=this.options.target&&i(this.options.target)||null,this.init(),this.events()});r.DEFAULTS={trigger:"click",content:"",open:!1,target:void 0,tpl:'<div class="am-popover"><div class="am-popover-inner"></div><div class="am-popover-caret"></div></div>'},r.prototype.init=function(){function t(){var t=e.getSize(),i=e.width()||t.width,o=e.height()||t.height,r=e.find(".am-popover-caret"),s=r.width()/2||10,l=o+s,c=n.outerWidth(),u=n.outerHeight(),d=n.offset(),h=n[0].getBoundingClientRect(),p=a.height(),f=a.width(),m=0,v=0,g=0,w=3,y="top";e.css({left:"",top:""}).removeClass("am-popover-left am-popover-right am-popover-top am-popover-bottom"),r.css({left:"",top:""}),l-w<h.top+w?m=d.top-l-w:l<p-h.top-h.height?(y="bottom",m=d.top+u+s+w):(y="middle",m=u/2+d.top-o/2),"top"===y||"bottom"===y?(v=c/2+d.left-i/2,g=v,5>v&&(v=5),v+i>f&&(v=f-i-20),"top"===y&&e.addClass("am-popover-bottom"),"bottom"===y&&e.addClass("am-popover-top"),g-=v,r.css({left:i/2-s+g+"px"})):"middle"===y&&(v=d.left-i-s,e.addClass("am-popover-left"),5>v&&(v=d.left+c+s,e.removeClass("am-popover-left").addClass("am-popover-right")),v+i>f&&(v=f-i-5,e.removeClass("am-popover-left").addClass("am-popover-right")),r.css({top:o/2-s/2+"px"})),e.css({top:m+"px",left:v+"px"})}var e,n=this.$element;this.options.target||(this.$popover=this.getPopover(),this.setContent()),e=this.$popover,e.appendTo(i("body")),t(),i(window).on("resize",o.utils.debounce(t,50)),n.on("open:popover:amui",function(){i(window).on("resize",o.utils.debounce(t,50))}),n.on("close:popover:amui",function(){i(window).off("resize",t)}),this.options.open&&this.open()},r.prototype.toggle=function(){return this[this.active?"close":"open"]()},r.prototype.open=function(){var t=this.$popover;this.$element.trigger("open:popover:amui"),t.show().addClass("am-active"),this.active=!0},r.prototype.close=function(){var t=this.$popover;this.$element.trigger("close:popover:amui"),t.removeClass("am-active").trigger("closed:popover:amui").hide(),this.active=!1},r.prototype.getUID=function(){var t="am-popover-";do t+=parseInt(1e6*Math.random());while(document.getElementById(t));return t},r.prototype.getPopover=function(){var t=this.getUID();return i(this.options.tpl,{id:t})},r.prototype.setContent=function(){this.$popover&&this.$popover.find(".am-popover-inner").empty().html(this.options.content)},r.prototype.events=function(){var t=this.options.trigger,e="popover.amui";"click"===t?this.$element.on("click."+e,i.proxy(this.toggle,this)):"hover"===t&&(this.$element.on("mouseenter."+e,i.proxy(this.open,this)),this.$element.on("mouseleave."+e,i.proxy(this.close,this)))},o.popover=r,i.fn.popover=n,i(function(){i("[data-am-popover]").popover()}),e.exports=r}),define("ui.progress",["core","zepto.extend.fx","zepto.extend.data","zepto.extend.selector"],function(require,t,e){require("core");var n=window.Zepto,i=n.AMUI,o=function(){function t(t,e,n){return e>t?e:t>n?n:t}function e(t){return 100*(-1+t)}function i(t,n,i){var o;return o="translate3d"===r.positionUsing?{transform:"translate3d("+e(t)+"%,0,0)"}:"translate"===r.positionUsing?{transform:"translate("+e(t)+"%,0)"}:{"margin-left":e(t)+"%"},o.transition="all "+n+"ms "+i,o}var o={},a=n("html");o.version="0.1.6";var r=o.settings={minimum:.08,easing:"ease",positionUsing:"",speed:200,trickle:!0,trickleRate:.02,trickleSpeed:800,showSpinner:!0,parent:"body",barSelector:'[role="nprogress-bar"]',spinnerSelector:'[role="nprogress-spinner"]',template:'<div class="nprogress-bar" role="nprogress-bar"><div class="nprogress-peg"></div></div><div class="nprogress-spinner" role="nprogress-spinner"><div class="nprogress-spinner-icon"></div></div>'};o.configure=function(t){var e,n;for(e in t)n=t[e],void 0!==n&&t.hasOwnProperty(e)&&(r[e]=n);return this},o.status=null,o.set=function(e){var n=o.isStarted();e=t(e,r.minimum,1),o.status=1===e?null:e;var a=o.render(!n),c=a.querySelector(r.barSelector),u=r.speed,d=r.easing;return a.offsetWidth,s(function(t){""===r.positionUsing&&(r.positionUsing=o.getPositioningCSS()),l(c,i(e,u,d)),1===e?(l(a,{transition:"none",opacity:1}),a.offsetWidth,setTimeout(function(){l(a,{transition:"all "+u+"ms linear",opacity:0}),setTimeout(function(){o.remove(),t()},u)},u)):setTimeout(t,u)}),this},o.isStarted=function(){return"number"==typeof o.status},o.start=function(){o.status||o.set(0);var t=function(){setTimeout(function(){o.status&&(o.trickle(),t())},r.trickleSpeed)};return r.trickle&&t(),this},o.done=function(t){return t||o.status?o.inc(.3+.5*Math.random()).set(1):this},o.inc=function(e){var n=o.status;return n?("number"!=typeof e&&(e=(1-n)*t(Math.random()*n,.1,.95)),n=t(n+e,0,.994),o.set(n)):o.start()},o.trickle=function(){return o.inc(Math.random()*r.trickleRate)},o.render=function(t){if(o.isRendered())return document.getElementById("nprogress");a.addClass("nprogress-busy");var i=document.createElement("div");i.id="nprogress",i.innerHTML=r.template;var s,c=i.querySelector(r.barSelector),u=t?"-100":e(o.status||0),d=document.querySelector(r.parent);return l(c,{transition:"all 0 linear",transform:"translate3d("+u+"%,0,0)"}),r.showSpinner||(s=i.querySelector(r.spinnerSelector),s&&n(s).remove()),d!=document.body&&n(d).addClass("nprogress-custom-parent"),d.appendChild(i),i},o.remove=function(){a.removeClass("nprogress-busy"),n(r.parent).removeClass("nprogress-custom-parent");var t=document.getElementById("nprogress");t&&n(t).remove()},o.isRendered=function(){return!!document.getElementById("nprogress")},o.getPositioningCSS=function(){var t=document.body.style,e="WebkitTransform"in t?"Webkit":"MozTransform"in t?"Moz":"msTransform"in t?"ms":"OTransform"in t?"O":"";return e+"Perspective"in t?"translate3d":e+"Transform"in t?"translate":"margin"};var s=function(){function t(){var n=e.shift();n&&n(t)}var e=[];return function(n){e.push(n),1==e.length&&t()}}(),l=function(){function t(t){return t.replace(/^-ms-/,"ms-").replace(/-([\da-z])/gi,function(t,e){return e.toUpperCase()})}function e(t){var e=document.body.style;if(t in e)return t;for(var n,i=o.length,a=t.charAt(0).toUpperCase()+t.slice(1);i--;)if(n=o[i]+a,n in e)return n;return t}function n(n){return n=t(n),a[n]||(a[n]=e(n))}function i(t,e,i){e=n(e),t.style[e]=i}var o=["Webkit","O","Moz","ms"],a={};return function(t,e){var n,o,a=arguments;if(2==a.length)for(n in e)o=e[n],void 0!==o&&e.hasOwnProperty(n)&&i(t,n,o);else i(t,a[1],a[2])}}();return o}();i.progress=o,e.exports=o}),define("ui.scrollspy",["core","zepto.extend.fx","zepto.extend.data","zepto.extend.selector"],function(require,t,e){"use strict";function n(t){return this.each(function(){var e=i(this),n=e.data("am.scrollspy"),o="object"==typeof t&&t;n||e.data("am.scrollspy",n=new a(this,o)),"string"==typeof t&&n[t]()})}require("core");var i=window.Zepto,o=i.AMUI,a=function(t,e){if(o.support.animation){this.options=i.extend({},a.DEFAULTS,e),this.$element=i(t);var n=function(){o.utils.rAF.call(window,i.proxy(this.checkView,this))}.bind(this);this.$window=i(window).on("scroll.scrollspy.amui",n).on("resize.scrollspy.amui orientationchange.scrollspy.amui",o.utils.debounce(n,50)),this.timer=this.inViewState=this.initInView=null,n()}};a.DEFAULTS={animation:"fade",inViewCls:"am-scrollspy-inview",initCls:"am-scrollspy-init",repeat:!0,delay:0,topOffset:0,leftOffset:0},a.prototype.checkView=function(){var t=this.$element,e=this.options,n=o.utils.isInView(t,e),i=e.animation?" am-animation-"+e.animation:"";n&&!this.inViewState&&(this.timer&&clearTimeout(this.timer),this.initInView||(t.addClass(e.initCls),this.offset=t.offset(),this.initInView=!0,t.trigger("init:scrollspy:amui")),this.timer=setTimeout(function(){n&&t.addClass(e.inViewCls+i).width()},e.delay),this.inViewState=!0,t.trigger("inview:scrollspy:amui")),!n&&this.inViewState&&e.repeat&&(t.removeClass(e.inViewCls+i),this.inViewState=!1,t.trigger("outview:scrollspy:amui"))},a.prototype.check=function(){o.utils.rAF.call(window,i.proxy(this.checkView,this))},o.scrollspy=a,i.fn.scrollspy=n,i(function(){i("[data-am-scrollspy]").each(function(){var t=i(this),e=o.utils.options(t.attr("data-am-scrollspy"));n.call(t,e)})}),e.exports=a}),define("ui.scrollspynav",["core","zepto.extend.fx","zepto.extend.data","zepto.extend.selector"],function(require,t,e){"use strict";function n(t){return this.each(function(){var e=i(this),n=e.data("am.scrollspynav"),o="object"==typeof t&&t;n||e.data("am.scrollspynav",n=new a(this,o)),"string"==typeof t&&n[t]()})}require("core");var i=window.Zepto,o=i.AMUI,a=function(t,e){this.options=i.extend({},a.DEFAULTS,e),this.$element=i(t),this.anchors=[],this.$links=this.$element.find('a[href^="#"]').each(function(t,e){this.anchors.push(i(e).attr("href"))}.bind(this)),this.$targets=i(this.anchors.join(", "));var n=function(){o.utils.rAF.call(window,i.proxy(this.process,this))}.bind(this);this.$window=i(window).on("scroll.scrollspynav.amui",n).on("resize.scrollspynav.amui orientationchange.scrollspynav.amui",o.utils.debounce(n,50)),n(),this.scrollProcess()};a.DEFAULTS={cls:"am-active",topOffset:0,leftOffset:0,closest:!1,smooth:!0},a.prototype.process=function(){var t=this.$window.scrollTop(),e=this.options,n=[],a=this.$links,r=this.$targets;if(r.each(function(t,i){o.utils.isInView(i,e)&&n.push(i)}),n.length){var s;if(i.each(n,function(e,n){return i(n).offset().top>=t?(s=i(n),!1):void 0}),!s)return;e.closest?(a.closest(e.closest).removeClass(e.cls),a.filter('a[href="#'+s.attr("id")+'"]').closest(e.closest).addClass(e.cls)):a.removeClass(e.cls).filter('a[href="#'+s.attr("id")+'"]').addClass(e.cls)}},a.prototype.scrollProcess=function(){var t=this.$links;this.options.smooth&&require.async(["ui.smooth-scroll"],function(){t.on("click",function(t){t.preventDefault();var e=i(this),n=e.attr("href"),o=e.data("am.smoothScroll");!o&&e.data("am.smoothScroll",o=i(n).offset().top),i(window).smoothScroll(o)})})},o.scrollspynav=a,i.fn.scrollspynav=n,i(function(){i("[data-am-scrollspy-nav]").each(function(){var t=i(this),e=o.utils.options(t.attr("data-am-scrollspy-nav"));n.call(t,e)})}),e.exports=a}),define("ui.smooth-scroll",["core","zepto.extend.fx","zepto.extend.data","zepto.extend.selector"],function(require){var t=require("core"),e=t.utils.rAF,n=window.Zepto,i=!1;n.fn.smoothScroll=function(t){function n(t){return(t/=.5)<1?.5*Math.pow(t,5):.5*(Math.pow(t-2,5)+2)}function o(){l.off("touchstart",f),i=!1}var a,r,s,l=this,c=t||0,u=l.scrollTop(),d=u,h=c-u,p=Math.min(750,Math.min(1500,Math.abs(u-c))),f=function(){o()};i||0!=h&&(l.on("touchstart",f),i=!0,e(function m(t){i&&(a||(a=t),r=Math.min(1,Math.max((t-a)/p,0)),s=Math.round(u+h*n(r)),h>0&&s>c&&(s=c),0>h&&c>s&&(s=c),d!=s&&l.scrollTop(s),d=s,s!==c?e(m):o())}))},n(document).on("click.smoothScroll.amui","[data-am-smooth-scroll]",function(t){t.preventDefault();var e=n(this),i=Number(e.attr("data-am-smooth-scroll"));n(window).smoothScroll(isNaN(i)?0:i)})}),define("ui.sticky",["core","zepto.extend.fx","zepto.extend.data","zepto.extend.selector"],function(require,t,e){"use strict";function n(t){return this.each(function(){var e=i(this),n=e.data("am.sticky"),o="object"==typeof t&&t;n||e.data("am.sticky",n=new a(this,o)),"string"==typeof t&&n[t]()})}require("core");var i=window.Zepto,o=i.AMUI,a=function(t,e){this.options=i.extend({},a.DEFAULTS,e),this.$element=i(t),this.$window=i(window).on("scroll.sticky.amui",o.utils.debounce(i.proxy(this.checkPosition,this),50)).on("click.sticky.amui",o.utils.debounce(i.proxy(this.checkPosition,this),1)),this.original={offsetTop:this.$element.offset().top,width:this.$element.width()},this.sticked=null,this.checkPosition()};a.DEFAULTS={top:0,cls:"am-sticky"},a.prototype.checkPosition=function(){if(this.$element.is(":visible")){var t=(i(document).height(),this.$window.scrollTop()),e=this.options,n=e.top,o=this.$element,a=e.animation?" am-animation-"+e.animation:"";this.sticked=t>this.original.offsetTop?"sticky":!1,this.sticked?o.addClass(e.cls+a).css({top:n}):o.removeClass(e.cls+a).css({top:""})}},o.sticky=a,i.fn.sticky=n,i(window).on("load",function(){i("[data-am-sticky]").each(function(){var t=i(this),e=o.utils.options(t.attr("data-am-sticky"));n.call(t,e)})}),e.exports=a}),define("util.cookie",["core","zepto.extend.fx","zepto.extend.data","zepto.extend.selector"],function(require,t,e){"use strict";require("core");var n=window.Zepto,i=n.AMUI,o={get:function(t){var e,n=encodeURIComponent(t)+"=",i=document.cookie.indexOf(n),o=null;return i>-1&&(e=document.cookie.indexOf(";",i),-1==e&&(e=document.cookie.length),o=decodeURIComponent(document.cookie.substring(i+n.length,e))),o},set:function(t,e,n,i,o,a){var r=encodeURIComponent(t)+"="+encodeURIComponent(e);
n instanceof Date&&(r+="; expires="+n.toGMTString()),i&&(r+="; path="+i),o&&(r+="; domain="+o),a&&(r+="; secure"),document.cookie=r},unset:function(t,e,n,i){this.set(t,"",new Date(0),e,n,i)}};i.utils.cookie=o,e.exports=o}),define("util.fastclick",[],function(require,t,e){/**
     * FastClick: polyfill to remove click delays on browsers with touch UIs.
     *
     * @version 1.0.2
     * @codingstandard ftlabs-jsv2
     * @copyright The Financial Times Limited [All Rights Reserved]
     * @license MIT License (see LICENSE.txt)
     */
function n(t,e){"use strict";function o(t,e){return function(){return t.apply(e,arguments)}}var a;if(e=e||{},this.trackingClick=!1,this.trackingClickStart=0,this.targetElement=null,this.touchStartX=0,this.touchStartY=0,this.lastTouchIdentifier=0,this.touchBoundary=e.touchBoundary||10,this.layer=t,this.tapDelay=e.tapDelay||200,!n.notNeeded(t)){for(var r=["onMouse","onClick","onTouchStart","onTouchMove","onTouchEnd","onTouchCancel"],s=this,l=0,c=r.length;c>l;l++)s[r[l]]=o(s[r[l]],s);i&&(t.addEventListener("mouseover",this.onMouse,!0),t.addEventListener("mousedown",this.onMouse,!0),t.addEventListener("mouseup",this.onMouse,!0)),t.addEventListener("click",this.onClick,!0),t.addEventListener("touchstart",this.onTouchStart,!1),t.addEventListener("touchmove",this.onTouchMove,!1),t.addEventListener("touchend",this.onTouchEnd,!1),t.addEventListener("touchcancel",this.onTouchCancel,!1),Event.prototype.stopImmediatePropagation||(t.removeEventListener=function(e,n,i){var o=Node.prototype.removeEventListener;"click"===e?o.call(t,e,n.hijacked||n,i):o.call(t,e,n,i)},t.addEventListener=function(e,n,i){var o=Node.prototype.addEventListener;"click"===e?o.call(t,e,n.hijacked||(n.hijacked=function(t){t.propagationStopped||n(t)}),i):o.call(t,e,n,i)}),"function"==typeof t.onclick&&(a=t.onclick,t.addEventListener("click",function(t){a(t)},!1),t.onclick=null)}}var i=(window.Zepto,navigator.userAgent.indexOf("Android")>0),o=/iP(ad|hone|od)/.test(navigator.userAgent),a=o&&/OS 4_\d(_\d)?/.test(navigator.userAgent),r=o&&/OS ([6-9]|\d{2})_\d/.test(navigator.userAgent);n.prototype.needsClick=function(t){"use strict";switch(t.nodeName.toLowerCase()){case"button":case"select":case"textarea":if(t.disabled)return!0;break;case"input":if(o&&"file"===t.type||t.disabled)return!0;break;case"label":case"video":return!0}return/\bneedsclick\b/.test(t.className)},n.prototype.needsFocus=function(t){"use strict";switch(t.nodeName.toLowerCase()){case"textarea":return!0;case"select":return!i;case"input":switch(t.type){case"button":case"checkbox":case"file":case"image":case"radio":case"submit":return!1}return!t.disabled&&!t.readOnly;default:return/\bneedsfocus\b/.test(t.className)}},n.prototype.sendClick=function(t,e){"use strict";var n,i;document.activeElement&&document.activeElement!==t&&document.activeElement.blur(),i=e.changedTouches[0],n=document.createEvent("MouseEvents"),n.initMouseEvent(this.determineEventType(t),!0,!0,window,1,i.screenX,i.screenY,i.clientX,i.clientY,!1,!1,!1,!1,0,null),n.forwardedTouchEvent=!0,t.dispatchEvent(n)},n.prototype.determineEventType=function(t){"use strict";return i&&"select"===t.tagName.toLowerCase()?"mousedown":"click"},n.prototype.focus=function(t){"use strict";var e;o&&t.setSelectionRange&&0!==t.type.indexOf("date")&&"time"!==t.type?(e=t.value.length,t.setSelectionRange(e,e)):t.focus()},n.prototype.updateScrollParent=function(t){"use strict";var e,n;if(e=t.fastClickScrollParent,!e||!e.contains(t)){n=t;do{if(n.scrollHeight>n.offsetHeight){e=n,t.fastClickScrollParent=n;break}n=n.parentElement}while(n)}e&&(e.fastClickLastScrollTop=e.scrollTop)},n.prototype.getTargetElementFromEventTarget=function(t){"use strict";return t.nodeType===Node.TEXT_NODE?t.parentNode:t},n.prototype.onTouchStart=function(t){"use strict";var e,n,i;if(t.targetTouches.length>1)return!0;if(e=this.getTargetElementFromEventTarget(t.target),n=t.targetTouches[0],o){if(i=window.getSelection(),i.rangeCount&&!i.isCollapsed)return!0;if(!a){if(n.identifier===this.lastTouchIdentifier)return t.preventDefault(),!1;this.lastTouchIdentifier=n.identifier,this.updateScrollParent(e)}}return this.trackingClick=!0,this.trackingClickStart=t.timeStamp,this.targetElement=e,this.touchStartX=n.pageX,this.touchStartY=n.pageY,t.timeStamp-this.lastClickTime<this.tapDelay&&t.preventDefault(),!0},n.prototype.touchHasMoved=function(t){"use strict";var e=t.changedTouches[0],n=this.touchBoundary;return Math.abs(e.pageX-this.touchStartX)>n||Math.abs(e.pageY-this.touchStartY)>n?!0:!1},n.prototype.onTouchMove=function(t){"use strict";return this.trackingClick?((this.targetElement!==this.getTargetElementFromEventTarget(t.target)||this.touchHasMoved(t))&&(this.trackingClick=!1,this.targetElement=null),!0):!0},n.prototype.findControl=function(t){"use strict";return void 0!==t.control?t.control:t.htmlFor?document.getElementById(t.htmlFor):t.querySelector("button, input:not([type=hidden]), keygen, meter, output, progress, select, textarea")},n.prototype.onTouchEnd=function(t){"use strict";var e,n,s,l,c,u=this.targetElement;if(!this.trackingClick)return!0;if(t.timeStamp-this.lastClickTime<this.tapDelay)return this.cancelNextClick=!0,!0;if(this.cancelNextClick=!1,this.lastClickTime=t.timeStamp,n=this.trackingClickStart,this.trackingClick=!1,this.trackingClickStart=0,r&&(c=t.changedTouches[0],u=document.elementFromPoint(c.pageX-window.pageXOffset,c.pageY-window.pageYOffset)||u,u.fastClickScrollParent=this.targetElement.fastClickScrollParent),s=u.tagName.toLowerCase(),"label"===s){if(e=this.findControl(u)){if(this.focus(u),i)return!1;u=e}}else if(this.needsFocus(u))return t.timeStamp-n>100||o&&window.top!==window&&"input"===s?(this.targetElement=null,!1):(this.focus(u),this.sendClick(u,t),o&&"select"===s||(this.targetElement=null,t.preventDefault()),!1);return o&&!a&&(l=u.fastClickScrollParent,l&&l.fastClickLastScrollTop!==l.scrollTop)?!0:(this.needsClick(u)||(t.preventDefault(),this.sendClick(u,t)),!1)},n.prototype.onTouchCancel=function(){"use strict";this.trackingClick=!1,this.targetElement=null},n.prototype.onMouse=function(t){"use strict";return this.targetElement?t.forwardedTouchEvent?!0:t.cancelable&&(!this.needsClick(this.targetElement)||this.cancelNextClick)?(t.stopImmediatePropagation?t.stopImmediatePropagation():t.propagationStopped=!0,t.stopPropagation(),t.preventDefault(),!1):!0:!0},n.prototype.onClick=function(t){"use strict";var e;return this.trackingClick?(this.targetElement=null,this.trackingClick=!1,!0):"submit"===t.target.type&&0===t.detail?!0:(e=this.onMouse(t),e||(this.targetElement=null),e)},n.prototype.destroy=function(){"use strict";var t=this.layer;i&&(t.removeEventListener("mouseover",this.onMouse,!0),t.removeEventListener("mousedown",this.onMouse,!0),t.removeEventListener("mouseup",this.onMouse,!0)),t.removeEventListener("click",this.onClick,!0),t.removeEventListener("touchstart",this.onTouchStart,!1),t.removeEventListener("touchmove",this.onTouchMove,!1),t.removeEventListener("touchend",this.onTouchEnd,!1),t.removeEventListener("touchcancel",this.onTouchCancel,!1)},n.notNeeded=function(t){"use strict";var e,n;if("undefined"==typeof window.ontouchstart)return!0;if(n=+(/Chrome\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1]){if(!i)return!0;if(e=document.querySelector("meta[name=viewport]")){if(-1!==e.content.indexOf("user-scalable=no"))return!0;if(n>31&&document.documentElement.scrollWidth<=window.outerWidth)return!0}}return"none"===t.style.msTouchAction?!0:!1},n.attach=function(t,e){"use strict";return new n(t,e)},e.exports=n}),define("util.fullscreen",["core","zepto.extend.fx","zepto.extend.data","zepto.extend.selector"],function(require,t,e){require("core");var n=window.Zepto,i=n.AMUI,o="undefined"!=typeof Element&&"ALLOW_KEYBOARD_INPUT"in Element,a=function(){for(var t,e,n=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],i=0,o=n.length,a={};o>i;i++)if(t=n[i],t&&t[1]in document){for(i=0,e=t.length;e>i;i++)a[n[0][i]]=t[i];return a}return!1}(),r={request:function(t){var e=a.requestFullscreen;t=t||document.documentElement,/5\.1[\.\d]* Safari/.test(navigator.userAgent)?t[e]():t[e](o&&Element.ALLOW_KEYBOARD_INPUT)},exit:function(){document[a.exitFullscreen]()},toggle:function(t){this.isFullscreen?this.exit():this.request(t)},onchange:function(){},onerror:function(){},raw:a};//!window.fullscreen && (window.fullscreen = fullscreen);
return a?(Object.defineProperties(r,{isFullscreen:{get:function(){return!!document[a.fullscreenElement]}},element:{enumerable:!0,get:function(){return document[a.fullscreenElement]}},enabled:{enumerable:!0,get:function(){return!!document[a.fullscreenEnabled]}}}),document.addEventListener(a.fullscreenchange,function(t){r.onchange.call(r,t)}),document.addEventListener(a.fullscreenerror,function(t){r.onerror.call(r,t)}),i.fullscreen=r,void(e.exports=r)):void(e.exports=!1)}),define("util.qrcode",[],function(require,t,e){function n(t){return 128>t?[t]:2048>t?(c0=192+(t>>6),c1=128+(63&t),[c0,c1]):(c0=224+(t>>12),c1=128+(t>>6&63),c2=128+(63&t),[c0,c1,c2])}function i(t){for(var e=[],i=0;i<t.length;i++)for(var o=t.charCodeAt(i),a=n(o),r=0;r<a.length;r++)e.push(a[r]);return e}function o(t,e){this.typeNumber=-1,this.errorCorrectLevel=e,this.modules=null,this.moduleCount=0,this.dataCache=null,this.rsBlocks=null,this.totalDataCount=-1,this.data=t,this.utf8bytes=i(t),this.make()}function a(t,e){if(void 0==t.length)throw new Error(t.length+"/"+e);for(var n=0;n<t.length&&0==t[n];)n++;this.num=new Array(t.length-n+e);for(var i=0;i<t.length-n;i++)this.num[i]=t[i+n]}function r(){this.buffer=new Array,this.length=0}function n(t){return 128>t?[t]:2048>t?(c0=192+(t>>6),c1=128+(63&t),[c0,c1]):(c0=224+(t>>12),c1=128+(t>>6&63),c2=128+(63&t),[c0,c1,c2])}function i(t){for(var e=[],i=0;i<t.length;i++)for(var o=t.charCodeAt(i),a=n(o),r=0;r<a.length;r++)e.push(a[r]);return e}function o(t,e){this.typeNumber=-1,this.errorCorrectLevel=e,this.modules=null,this.moduleCount=0,this.dataCache=null,this.rsBlocks=null,this.totalDataCount=-1,this.data=t,this.utf8bytes=i(t),this.make()}function a(t,e){if(void 0==t.length)throw new Error(t.length+"/"+e);for(var n=0;n<t.length&&0==t[n];)n++;this.num=new Array(t.length-n+e);for(var i=0;i<t.length-n;i++)this.num[i]=t[i+n]}function r(){this.buffer=new Array,this.length=0}var s=Zepto,c=[],u=function(t){"string"==typeof t&&(t={text:t}),this.options=s.extend({},{text:"",render:"",width:256,height:256,correctLevel:3,background:"#ffffff",foreground:"#000000"},t);for(var e=null,n=0,i=c.length;i>n;n++)if(c[n].text==this.options.text&&c[n].text.correctLevel==this.options.correctLevel){e=c[n].obj;break}if(n==i&&(e=new o(this.options.text,this.options.correctLevel),c.push({text:this.options.text,correctLevel:this.options.correctLevel,obj:e})),this.options.render)switch(this.options.render){case"canvas":return this.createCanvas(e);case"table":return this.createTable(e);case"svg":return this.createSVG(e);default:return this.createDefault(e)}return this.createDefault(e)};u.prototype.createDefault=function(t){var e=document.createElement("canvas");return e.getContext?this.createCanvas(t):(SVG_NS="http://www.w3.org/2000/svg",document.createElementNS&&document.createElementNS(SVG_NS,"svg").createSVGRect?this.createSVG(t):this.createTable(t))},u.prototype.createCanvas=function(t){var e=document.createElement("canvas");e.width=this.options.width,e.height=this.options.height;for(var n=e.getContext("2d"),i=(this.options.width/t.getModuleCount()).toPrecision(4),o=this.options.height/t.getModuleCount().toPrecision(4),a=0;a<t.getModuleCount();a++)for(var r=0;r<t.getModuleCount();r++){n.fillStyle=t.modules[a][r]?this.options.foreground:this.options.background;var s=Math.ceil((r+1)*i)-Math.floor(r*i),l=Math.ceil((a+1)*i)-Math.floor(a*i);n.fillRect(Math.round(r*i),Math.round(a*o),s,l)}return e},u.prototype.createTable=function(t){var e=[];e.push('<table style="border:0px; margin:0px; padding:0px; border-collapse:collapse; background-color: '+this.options.background+';">');var n=-1,i=-1,o=-1,a=-1;n=o=Math.floor(this.options.width/t.getModuleCount()),i=a=Math.floor(this.options.height/t.getModuleCount()),0>=o&&(n=t.getModuleCount()<80?2:1),0>=a&&(i=t.getModuleCount()<80?2:1),foreTd='<td style="border:0px; margin:0px; padding:0px; width:'+n+"px; background-color: "+this.options.foreground+'"></td>',backTd='<td style="border:0px; margin:0px; padding:0px; width:'+n+"px; background-color: "+this.options.background+'"></td>',l=t.getModuleCount();for(var r=0;l>r;r++){e.push('<tr style="border:0px; margin:0px; padding:0px; height: '+i+'px">');for(var s=0;l>s;s++)e.push(t.modules[r][s]?foreTd:backTd);e.push("</tr>")}e.push("</table>");var c=document.createElement("span");return c.innerHTML=e.join(""),c.firstChild},u.prototype.createSVG=function(t){for(var e,n,i,o,a=t.getModuleCount(),r=this.options.height/this.options.width,l='<svg xmlns="http://www.w3.org/2000/svg" width="'+this.options.width+'px" height="'+this.options.height+'px" viewbox="0 0 '+10*a+" "+10*a*r+'">',c="<path ",u=' style="stroke-width:0.5;stroke:'+this.options.foreground+";fill:"+this.options.foreground+';"></path>',d=' style="stroke-width:0.5;stroke:'+this.options.background+";fill:"+this.options.background+';"></path>',h=0;a>h;h++)for(var p=0;a>p;p++)e=10*p,i=10*h*r,n=10*(p+1),o=10*(h+1)*r,l+=c+'d="M '+e+","+i+" L "+n+","+i+" L "+n+","+o+" L "+e+","+o+' Z"',l+=t.modules[h][p]?u:d;return l+="</svg>",s(l)[0]},e.exports=u,o.prototype={constructor:o,getModuleCount:function(){return this.moduleCount},make:function(){this.getRightType(),this.dataCache=this.createData(),this.createQrcode()},makeImpl:function(t){this.moduleCount=4*this.typeNumber+17,this.modules=new Array(this.moduleCount);for(var e=0;e<this.moduleCount;e++)this.modules[e]=new Array(this.moduleCount);this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(!0,t),this.typeNumber>=7&&this.setupTypeNumber(!0),this.mapData(this.dataCache,t)},setupPositionProbePattern:function(t,e){for(var n=-1;7>=n;n++)if(!(-1>=t+n||this.moduleCount<=t+n))for(var i=-1;7>=i;i++)-1>=e+i||this.moduleCount<=e+i||(this.modules[t+n][e+i]=n>=0&&6>=n&&(0==i||6==i)||i>=0&&6>=i&&(0==n||6==n)||n>=2&&4>=n&&i>=2&&4>=i?!0:!1)},createQrcode:function(){for(var t=0,e=0,n=null,i=0;8>i;i++){this.makeImpl(i);var o=p.getLostPoint(this);(0==i||t>o)&&(t=o,e=i,n=this.modules)}this.modules=n,this.setupTypeInfo(!1,e),this.typeNumber>=7&&this.setupTypeNumber(!1)},setupTimingPattern:function(){for(var t=8;t<this.moduleCount-8;t++)null==this.modules[t][6]&&(this.modules[t][6]=t%2==0,null==this.modules[6][t]&&(this.modules[6][t]=t%2==0))},setupPositionAdjustPattern:function(){for(var t=p.getPatternPosition(this.typeNumber),e=0;e<t.length;e++)for(var n=0;n<t.length;n++){var i=t[e],o=t[n];if(null==this.modules[i][o])for(var a=-2;2>=a;a++)for(var r=-2;2>=r;r++)this.modules[i+a][o+r]=-2==a||2==a||-2==r||2==r||0==a&&0==r?!0:!1}},setupTypeNumber:function(t){for(var e=p.getBCHTypeNumber(this.typeNumber),n=0;18>n;n++){var i=!t&&1==(e>>n&1);this.modules[Math.floor(n/3)][n%3+this.moduleCount-8-3]=i,this.modules[n%3+this.moduleCount-8-3][Math.floor(n/3)]=i}},setupTypeInfo:function(t,e){for(var n=d[this.errorCorrectLevel]<<3|e,i=p.getBCHTypeInfo(n),o=0;15>o;o++){var a=!t&&1==(i>>o&1);6>o?this.modules[o][8]=a:8>o?this.modules[o+1][8]=a:this.modules[this.moduleCount-15+o][8]=a;var a=!t&&1==(i>>o&1);8>o?this.modules[8][this.moduleCount-o-1]=a:9>o?this.modules[8][15-o-1+1]=a:this.modules[8][15-o-1]=a}this.modules[this.moduleCount-8][8]=!t},createData:function(){var t=new r,e=this.typeNumber>9?16:8;t.put(4,4),t.put(this.utf8bytes.length,e);for(var n=0,i=this.utf8bytes.length;i>n;n++)t.put(this.utf8bytes[n],8);for(t.length+4<=8*this.totalDataCount&&t.put(0,4);t.length%8!=0;)t.putBit(!1);for(;;){if(t.length>=8*this.totalDataCount)break;if(t.put(o.PAD0,8),t.length>=8*this.totalDataCount)break;t.put(o.PAD1,8)}return this.createBytes(t)},createBytes:function(t){for(var e=0,n=0,i=0,o=this.rsBlock.length/3,r=new Array,s=0;o>s;s++)for(var l=this.rsBlock[3*s+0],c=this.rsBlock[3*s+1],u=this.rsBlock[3*s+2],d=0;l>d;d++)r.push([u,c]);for(var h=new Array(r.length),f=new Array(r.length),m=0;m<r.length;m++){var v=r[m][0],g=r[m][1]-v;n=Math.max(n,v),i=Math.max(i,g),h[m]=new Array(v);for(var s=0;s<h[m].length;s++)h[m][s]=255&t.buffer[s+e];e+=v;var w=p.getErrorCorrectPolynomial(g),y=new a(h[m],w.getLength()-1),b=y.mod(w);f[m]=new Array(w.getLength()-1);for(var s=0;s<f[m].length;s++){var x=s+b.getLength()-f[m].length;f[m][s]=x>=0?b.get(x):0}}for(var C=new Array(this.totalDataCount),T=0,s=0;n>s;s++)for(var m=0;m<r.length;m++)s<h[m].length&&(C[T++]=h[m][s]);for(var s=0;i>s;s++)for(var m=0;m<r.length;m++)s<f[m].length&&(C[T++]=f[m][s]);return C},mapData:function(t,e){for(var n=-1,i=this.moduleCount-1,o=7,a=0,r=this.moduleCount-1;r>0;r-=2)for(6==r&&r--;;){for(var s=0;2>s;s++)if(null==this.modules[i][r-s]){var l=!1;a<t.length&&(l=1==(t[a]>>>o&1));var c=p.getMask(e,i,r-s);c&&(l=!l),this.modules[i][r-s]=l,o--,-1==o&&(a++,o=7)}if(i+=n,0>i||this.moduleCount<=i){i-=n,n=-n;break}}}},o.PAD0=236,o.PAD1=17;for(var d=[1,0,3,2],h={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},p={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(t){for(var e=t<<10;p.getBCHDigit(e)-p.getBCHDigit(p.G15)>=0;)e^=p.G15<<p.getBCHDigit(e)-p.getBCHDigit(p.G15);return(t<<10|e)^p.G15_MASK},getBCHTypeNumber:function(t){for(var e=t<<12;p.getBCHDigit(e)-p.getBCHDigit(p.G18)>=0;)e^=p.G18<<p.getBCHDigit(e)-p.getBCHDigit(p.G18);return t<<12|e},getBCHDigit:function(t){for(var e=0;0!=t;)e++,t>>>=1;return e},getPatternPosition:function(t){return p.PATTERN_POSITION_TABLE[t-1]},getMask:function(t,e,n){switch(t){case h.PATTERN000:return(e+n)%2==0;case h.PATTERN001:return e%2==0;case h.PATTERN010:return n%3==0;case h.PATTERN011:return(e+n)%3==0;case h.PATTERN100:return(Math.floor(e/2)+Math.floor(n/3))%2==0;case h.PATTERN101:return e*n%2+e*n%3==0;case h.PATTERN110:return(e*n%2+e*n%3)%2==0;case h.PATTERN111:return(e*n%3+(e+n)%2)%2==0;default:throw new Error("bad maskPattern:"+t)}},getErrorCorrectPolynomial:function(t){for(var e=new a([1],0),n=0;t>n;n++)e=e.multiply(new a([1,f.gexp(n)],0));return e},getLostPoint:function(t){for(var e=t.getModuleCount(),n=0,i=0,o=0;e>o;o++)for(var a=0,r=t.modules[o][0],s=0;e>s;s++){var l=t.modules[o][s];if(e-6>s&&l&&!t.modules[o][s+1]&&t.modules[o][s+2]&&t.modules[o][s+3]&&t.modules[o][s+4]&&!t.modules[o][s+5]&&t.modules[o][s+6]&&(e-10>s?t.modules[o][s+7]&&t.modules[o][s+8]&&t.modules[o][s+9]&&t.modules[o][s+10]&&(n+=40):s>3&&t.modules[o][s-1]&&t.modules[o][s-2]&&t.modules[o][s-3]&&t.modules[o][s-4]&&(n+=40)),e-1>o&&e-1>s){var c=0;l&&c++,t.modules[o+1][s]&&c++,t.modules[o][s+1]&&c++,t.modules[o+1][s+1]&&c++,(0==c||4==c)&&(n+=3)}r^l?a++:(r=l,a>=5&&(n+=3+a-5),a=1),l&&i++}for(var s=0;e>s;s++)for(var a=0,r=t.modules[0][s],o=0;e>o;o++){var l=t.modules[o][s];e-6>o&&l&&!t.modules[o+1][s]&&t.modules[o+2][s]&&t.modules[o+3][s]&&t.modules[o+4][s]&&!t.modules[o+5][s]&&t.modules[o+6][s]&&(e-10>o?t.modules[o+7][s]&&t.modules[o+8][s]&&t.modules[o+9][s]&&t.modules[o+10][s]&&(n+=40):o>3&&t.modules[o-1][s]&&t.modules[o-2][s]&&t.modules[o-3][s]&&t.modules[o-4][s]&&(n+=40)),r^l?a++:(r=l,a>=5&&(n+=3+a-5),a=1)}var u=Math.abs(100*i/e/e-50)/5;return n+=10*u}},f={glog:function(t){if(1>t)throw new Error("glog("+t+")");return f.LOG_TABLE[t]},gexp:function(t){for(;0>t;)t+=255;for(;t>=256;)t-=255;return f.EXP_TABLE[t]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)},m=0;8>m;m++)f.EXP_TABLE[m]=1<<m;for(var m=8;256>m;m++)f.EXP_TABLE[m]=f.EXP_TABLE[m-4]^f.EXP_TABLE[m-5]^f.EXP_TABLE[m-6]^f.EXP_TABLE[m-8];for(var m=0;255>m;m++)f.LOG_TABLE[f.EXP_TABLE[m]]=m;a.prototype={get:function(t){return this.num[t]},getLength:function(){return this.num.length},multiply:function(t){for(var e=new Array(this.getLength()+t.getLength()-1),n=0;n<this.getLength();n++)for(var i=0;i<t.getLength();i++)e[n+i]^=f.gexp(f.glog(this.get(n))+f.glog(t.get(i)));return new a(e,0)},mod:function(t){var e=this.getLength(),n=t.getLength();if(0>e-n)return this;for(var i=new Array(e),o=0;e>o;o++)i[o]=this.get(o);for(;i.length>=n;){for(var r=f.glog(i[0])-f.glog(t.get(0)),o=0;o<t.getLength();o++)i[o]^=f.gexp(f.glog(t.get(o))+r);for(;0==i[0];)i.shift()}return new a(i,0)}},RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],o.prototype.getRightType=function(){for(var t=1;41>t;t++){var e=RS_BLOCK_TABLE[4*(t-1)+this.errorCorrectLevel];if(void 0==e)throw new Error("bad rs block @ typeNumber:"+t+"/errorCorrectLevel:"+this.errorCorrectLevel);for(var n=e.length/3,i=0,o=0;n>o;o++){var a=e[3*o+0],r=e[3*o+2];i+=r*a}var s=t>9?2:1;if(this.utf8bytes.length+s<i||40==t){this.typeNumber=t,this.rsBlock=e,this.totalDataCount=i;break}}},r.prototype={get:function(t){var e=Math.floor(t/8);return this.buffer[e]>>>7-t%8&1},put:function(t,e){for(var n=0;e>n;n++)this.putBit(t>>>e-n-1&1)},putBit:function(t){var e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}},o.prototype={constructor:o,getModuleCount:function(){return this.moduleCount},make:function(){this.getRightType(),this.dataCache=this.createData(),this.createQrcode()},makeImpl:function(t){this.moduleCount=4*this.typeNumber+17,this.modules=new Array(this.moduleCount);for(var e=0;e<this.moduleCount;e++)this.modules[e]=new Array(this.moduleCount);this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(!0,t),this.typeNumber>=7&&this.setupTypeNumber(!0),this.mapData(this.dataCache,t)},setupPositionProbePattern:function(t,e){for(var n=-1;7>=n;n++)if(!(-1>=t+n||this.moduleCount<=t+n))for(var i=-1;7>=i;i++)-1>=e+i||this.moduleCount<=e+i||(this.modules[t+n][e+i]=n>=0&&6>=n&&(0==i||6==i)||i>=0&&6>=i&&(0==n||6==n)||n>=2&&4>=n&&i>=2&&4>=i?!0:!1)},createQrcode:function(){for(var t=0,e=0,n=null,i=0;8>i;i++){this.makeImpl(i);var o=p.getLostPoint(this);(0==i||t>o)&&(t=o,e=i,n=this.modules)}this.modules=n,this.setupTypeInfo(!1,e),this.typeNumber>=7&&this.setupTypeNumber(!1)},setupTimingPattern:function(){for(var t=8;t<this.moduleCount-8;t++)null==this.modules[t][6]&&(this.modules[t][6]=t%2==0,null==this.modules[6][t]&&(this.modules[6][t]=t%2==0))},setupPositionAdjustPattern:function(){for(var t=p.getPatternPosition(this.typeNumber),e=0;e<t.length;e++)for(var n=0;n<t.length;n++){var i=t[e],o=t[n];if(null==this.modules[i][o])for(var a=-2;2>=a;a++)for(var r=-2;2>=r;r++)this.modules[i+a][o+r]=-2==a||2==a||-2==r||2==r||0==a&&0==r?!0:!1}},setupTypeNumber:function(t){for(var e=p.getBCHTypeNumber(this.typeNumber),n=0;18>n;n++){var i=!t&&1==(e>>n&1);this.modules[Math.floor(n/3)][n%3+this.moduleCount-8-3]=i,this.modules[n%3+this.moduleCount-8-3][Math.floor(n/3)]=i}},setupTypeInfo:function(t,e){for(var n=d[this.errorCorrectLevel]<<3|e,i=p.getBCHTypeInfo(n),o=0;15>o;o++){var a=!t&&1==(i>>o&1);6>o?this.modules[o][8]=a:8>o?this.modules[o+1][8]=a:this.modules[this.moduleCount-15+o][8]=a;var a=!t&&1==(i>>o&1);8>o?this.modules[8][this.moduleCount-o-1]=a:9>o?this.modules[8][15-o-1+1]=a:this.modules[8][15-o-1]=a}this.modules[this.moduleCount-8][8]=!t},createData:function(){var t=new r,e=this.typeNumber>9?16:8;t.put(4,4),t.put(this.utf8bytes.length,e);for(var n=0,i=this.utf8bytes.length;i>n;n++)t.put(this.utf8bytes[n],8);for(t.length+4<=8*this.totalDataCount&&t.put(0,4);t.length%8!=0;)t.putBit(!1);for(;;){if(t.length>=8*this.totalDataCount)break;if(t.put(o.PAD0,8),t.length>=8*this.totalDataCount)break;t.put(o.PAD1,8)}return this.createBytes(t)},createBytes:function(t){for(var e=0,n=0,i=0,o=this.rsBlock.length/3,r=new Array,s=0;o>s;s++)for(var l=this.rsBlock[3*s+0],c=this.rsBlock[3*s+1],u=this.rsBlock[3*s+2],d=0;l>d;d++)r.push([u,c]);for(var h=new Array(r.length),f=new Array(r.length),m=0;m<r.length;m++){var v=r[m][0],g=r[m][1]-v;n=Math.max(n,v),i=Math.max(i,g),h[m]=new Array(v);for(var s=0;s<h[m].length;s++)h[m][s]=255&t.buffer[s+e];e+=v;var w=p.getErrorCorrectPolynomial(g),y=new a(h[m],w.getLength()-1),b=y.mod(w);f[m]=new Array(w.getLength()-1);for(var s=0;s<f[m].length;s++){var x=s+b.getLength()-f[m].length;f[m][s]=x>=0?b.get(x):0}}for(var C=new Array(this.totalDataCount),T=0,s=0;n>s;s++)for(var m=0;m<r.length;m++)s<h[m].length&&(C[T++]=h[m][s]);for(var s=0;i>s;s++)for(var m=0;m<r.length;m++)s<f[m].length&&(C[T++]=f[m][s]);return C},mapData:function(t,e){for(var n=-1,i=this.moduleCount-1,o=7,a=0,r=this.moduleCount-1;r>0;r-=2)for(6==r&&r--;;){for(var s=0;2>s;s++)if(null==this.modules[i][r-s]){var l=!1;a<t.length&&(l=1==(t[a]>>>o&1));var c=p.getMask(e,i,r-s);c&&(l=!l),this.modules[i][r-s]=l,o--,-1==o&&(a++,o=7)}if(i+=n,0>i||this.moduleCount<=i){i-=n,n=-n;break}}}},o.PAD0=236,o.PAD1=17;for(var d=[1,0,3,2],h={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},p={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(t){for(var e=t<<10;p.getBCHDigit(e)-p.getBCHDigit(p.G15)>=0;)e^=p.G15<<p.getBCHDigit(e)-p.getBCHDigit(p.G15);return(t<<10|e)^p.G15_MASK},getBCHTypeNumber:function(t){for(var e=t<<12;p.getBCHDigit(e)-p.getBCHDigit(p.G18)>=0;)e^=p.G18<<p.getBCHDigit(e)-p.getBCHDigit(p.G18);return t<<12|e},getBCHDigit:function(t){for(var e=0;0!=t;)e++,t>>>=1;return e},getPatternPosition:function(t){return p.PATTERN_POSITION_TABLE[t-1]},getMask:function(t,e,n){switch(t){case h.PATTERN000:return(e+n)%2==0;case h.PATTERN001:return e%2==0;case h.PATTERN010:return n%3==0;case h.PATTERN011:return(e+n)%3==0;case h.PATTERN100:return(Math.floor(e/2)+Math.floor(n/3))%2==0;case h.PATTERN101:return e*n%2+e*n%3==0;case h.PATTERN110:return(e*n%2+e*n%3)%2==0;case h.PATTERN111:return(e*n%3+(e+n)%2)%2==0;default:throw new Error("bad maskPattern:"+t)}},getErrorCorrectPolynomial:function(t){for(var e=new a([1],0),n=0;t>n;n++)e=e.multiply(new a([1,f.gexp(n)],0));return e},getLostPoint:function(t){for(var e=t.getModuleCount(),n=0,i=0,o=0;e>o;o++)for(var a=0,r=t.modules[o][0],s=0;e>s;s++){var l=t.modules[o][s];if(e-6>s&&l&&!t.modules[o][s+1]&&t.modules[o][s+2]&&t.modules[o][s+3]&&t.modules[o][s+4]&&!t.modules[o][s+5]&&t.modules[o][s+6]&&(e-10>s?t.modules[o][s+7]&&t.modules[o][s+8]&&t.modules[o][s+9]&&t.modules[o][s+10]&&(n+=40):s>3&&t.modules[o][s-1]&&t.modules[o][s-2]&&t.modules[o][s-3]&&t.modules[o][s-4]&&(n+=40)),e-1>o&&e-1>s){var c=0;l&&c++,t.modules[o+1][s]&&c++,t.modules[o][s+1]&&c++,t.modules[o+1][s+1]&&c++,(0==c||4==c)&&(n+=3)}r^l?a++:(r=l,a>=5&&(n+=3+a-5),a=1),l&&i++}for(var s=0;e>s;s++)for(var a=0,r=t.modules[0][s],o=0;e>o;o++){var l=t.modules[o][s];e-6>o&&l&&!t.modules[o+1][s]&&t.modules[o+2][s]&&t.modules[o+3][s]&&t.modules[o+4][s]&&!t.modules[o+5][s]&&t.modules[o+6][s]&&(e-10>o?t.modules[o+7][s]&&t.modules[o+8][s]&&t.modules[o+9][s]&&t.modules[o+10][s]&&(n+=40):o>3&&t.modules[o-1][s]&&t.modules[o-2][s]&&t.modules[o-3][s]&&t.modules[o-4][s]&&(n+=40)),r^l?a++:(r=l,a>=5&&(n+=3+a-5),a=1)}var u=Math.abs(100*i/e/e-50)/5;return n+=10*u}},f={glog:function(t){if(1>t)throw new Error("glog("+t+")");return f.LOG_TABLE[t]},gexp:function(t){for(;0>t;)t+=255;for(;t>=256;)t-=255;return f.EXP_TABLE[t]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)},m=0;8>m;m++)f.EXP_TABLE[m]=1<<m;for(var m=8;256>m;m++)f.EXP_TABLE[m]=f.EXP_TABLE[m-4]^f.EXP_TABLE[m-5]^f.EXP_TABLE[m-6]^f.EXP_TABLE[m-8];for(var m=0;255>m;m++)f.LOG_TABLE[f.EXP_TABLE[m]]=m;a.prototype={get:function(t){return this.num[t]},getLength:function(){return this.num.length},multiply:function(t){for(var e=new Array(this.getLength()+t.getLength()-1),n=0;n<this.getLength();n++)for(var i=0;i<t.getLength();i++)e[n+i]^=f.gexp(f.glog(this.get(n))+f.glog(t.get(i)));return new a(e,0)},mod:function(t){var e=this.getLength(),n=t.getLength();if(0>e-n)return this;for(var i=new Array(e),o=0;e>o;o++)i[o]=this.get(o);for(;i.length>=n;){for(var r=f.glog(i[0])-f.glog(t.get(0)),o=0;o<t.getLength();o++)i[o]^=f.gexp(f.glog(t.get(o))+r);for(;0==i[0];)i.shift()}return new a(i,0)}},RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],o.prototype.getRightType=function(){for(var t=1;41>t;t++){var e=RS_BLOCK_TABLE[4*(t-1)+this.errorCorrectLevel];if(void 0==e)throw new Error("bad rs block @ typeNumber:"+t+"/errorCorrectLevel:"+this.errorCorrectLevel);for(var n=e.length/3,i=0,o=0;n>o;o++){var a=e[3*o+0],r=e[3*o+2];i+=r*a}var s=t>9?2:1;if(this.utf8bytes.length+s<i||40==t){this.typeNumber=t,this.rsBlock=e,this.totalDataCount=i;break}}},r.prototype={get:function(t){var e=Math.floor(t/8);return this.buffer[e]>>>7-t%8&1},put:function(t,e){for(var n=0;e>n;n++)this.putBit(t>>>e-n-1&1)},putBit:function(t){var e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}}}),define("zepto.extend.data",[],function(){function t(t,n){var l=t[s],c=l&&o[l];if(void 0===n)return c||e(t);if(c){if(n in c)return c[n];var u=r(n);if(u in c)return c[u]}return a.call(i(t),n)}function e(t,e,a){var l=t[s]||(t[s]=++i.uuid),c=o[l]||(o[l]=n(t));return void 0!==e&&(c[r(e)]=a),c}function n(t){var e={};return i.each(t.attributes||l,function(t,n){0==n.name.indexOf("data-")&&(e[r(n.name.replace("data-",""))]=i.zepto.deserializeValue(n.value))}),e}var i=window.Zepto,o={},a=i.fn.data,r=i.camelCase,s=i.expando="Zepto"+ +new Date,l=[];i.fn.data=function(n,o){return void 0===o?i.isPlainObject(n)?this.each(function(t,o){i.each(n,function(t,n){e(o,t,n)})}):0 in this?t(this[0],n):void 0:this.each(function(){e(this,n,o)})},i.fn.removeData=function(t){return"string"==typeof t&&(t=t.split(/\s+/)),this.each(function(){var e=this[s],n=e&&o[e];n&&i.each(t||n,function(e){delete n[t?r(this):e]})})},["remove","empty"].forEach(function(t){var e=i.fn[t];i.fn[t]=function(){var n=this.find("*");return"remove"===t&&(n=n.add(this)),n.removeData(),e.call(this)}})}),define("zepto.extend.fx",[],function(){function t(t){return t.replace(/([a-z])([A-Z])/,"$1-$2").toLowerCase()}function e(t){return n?n+t:t.toLowerCase()}var n,i,o,a,r,s,l,c,u,d,h=window.Zepto,p="",f={Webkit:"webkit",Moz:"",O:"o"},m=window.document,v=m.createElement("div"),g=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i,w={};h.each(f,function(t,e){return void 0!==v.style[t+"TransitionProperty"]?(p="-"+t.toLowerCase()+"-",n=e,!1):void 0}),i=p+"transform",w[o=p+"transition-property"]=w[a=p+"transition-duration"]=w[s=p+"transition-delay"]=w[r=p+"transition-timing-function"]=w[l=p+"animation-name"]=w[c=p+"animation-duration"]=w[d=p+"animation-delay"]=w[u=p+"animation-timing-function"]="",h.fx={off:void 0===n&&void 0===v.style.transitionProperty,speeds:{_default:400,fast:200,slow:600},cssPrefix:p,transitionEnd:e("TransitionEnd"),animationEnd:e("AnimationEnd")},h.fn.animate=function(t,e,n,i,o){return h.isFunction(e)&&(i=e,n=void 0,e=void 0),h.isFunction(n)&&(i=n,n=void 0),h.isPlainObject(e)&&(n=e.easing,i=e.complete,o=e.delay,e=e.duration),e&&(e=("number"==typeof e?e:h.fx.speeds[e]||h.fx.speeds._default)/1e3),o&&(o=parseFloat(o)/1e3),this.anim(t,e,n,i,o)},h.fn.anim=function(e,n,p,f,m){var v,y,b,x={},C="",T=this,k=h.fx.transitionEnd,E=!1;if(void 0===n&&(n=h.fx.speeds._default/1e3),void 0===m&&(m=0),h.fx.off&&(n=0),"string"==typeof e)x[l]=e,x[c]=n+"s",x[d]=m+"s",x[u]=p||"linear",k=h.fx.animationEnd;else{y=[];for(v in e)g.test(v)?C+=v+"("+e[v]+") ":(x[v]=e[v],y.push(t(v)));C&&(x[i]=C,y.push(i)),n>0&&"object"==typeof e&&(x[o]=y.join(", "),x[a]=n+"s",x[s]=m+"s",x[r]=p||"linear")}return b=function(t){if("undefined"!=typeof t){if(t.target!==t.currentTarget)return;h(t.target).unbind(k,b)}else h(this).unbind(k,b);E=!0,h(this).css(w),f&&f.call(this)},n>0&&(this.bind(k,b),setTimeout(function(){E||b.call(T)},1e3*n+25)),this.size()&&this.get(0).clientLeft,this.css(x),0>=n&&setTimeout(function(){T.each(function(){b.call(this)})},0),this},v=null}),define("zepto.extend.selector",[],function(){function t(t){return t=n(t),!(!t.width()&&!t.height())&&"none"!==t.css("display")}function e(t,e){t=t.replace(/=#\]/g,'="#"]');var n,i,o=s.exec(t);if(o&&o[2]in r&&(n=r[o[2]],i=o[3],t=o[1],i)){var a=Number(i);i=isNaN(a)?i.replace(/^["']|["']$/g,""):a}return e(t,n,i)}var n=window.Zepto,i=n.zepto,o=i.qsa,a=i.matches,r=n.expr[":"]={visible:function(){return t(this)?this:void 0},hidden:function(){return t(this)?void 0:this},selected:function(){return this.selected?this:void 0},checked:function(){return this.checked?this:void 0},parent:function(){return this.parentNode},first:function(t){return 0===t?this:void 0},last:function(t,e){return t===e.length-1?this:void 0},eq:function(t,e,n){return t===n?this:void 0},contains:function(t,e,i){return n(this).text().indexOf(i)>-1?this:void 0},has:function(t,e,n){return i.qsa(this,n).length?this:void 0}},s=new RegExp("(.*):(\\w+)(?:\\(([^)]+)\\))?$\\s*"),l=/^\s*>/,c="Zepto"+ +new Date;i.qsa=function(t,a){return e(a,function(e,r,s){try{var u;!e&&r?e="*":l.test(e)&&(u=n(t).addClass(c),e="."+c+" "+e);var d=o(t,e)}catch(h){throw console.error("error performing selector: %o",a),h}finally{u&&u.removeClass(c)}return r?i.uniq(n.map(d,function(t,e){return r.call(t,e,d,s)})):d})},i.matches=function(t,n){return e(n,function(e,n,i){return!(e&&!a(t,e)||n&&n.call(t,null,i)!==t)})}}),define("zepto.extend.touch",[],function(){function t(t,e,n,i){return Math.abs(t-e)>=Math.abs(n-i)?t-e>0?"Left":"Right":n-i>0?"Up":"Down"
}function e(){c=null,h.last&&(h.el.trigger("longTap"),h={})}function n(){c&&clearTimeout(c),c=null}function i(){r&&clearTimeout(r),s&&clearTimeout(s),l&&clearTimeout(l),c&&clearTimeout(c),r=s=l=c=null,h={}}function o(t){return("touch"==t.pointerType||t.pointerType==t.MSPOINTER_TYPE_TOUCH)&&t.isPrimary}function a(t,e){return t.type=="pointer"+e||t.type.toLowerCase()=="mspointer"+e}var r,s,l,c,u,d=window.Zepto,h={},p=750;d(document).ready(function(){var f,m,v,g,w=0,y=0;"MSGesture"in window&&(u=new MSGesture,u.target=document.body),d(document).bind("MSGestureEnd",function(t){var e=t.velocityX>1?"Right":t.velocityX<-1?"Left":t.velocityY>1?"Down":t.velocityY<-1?"Up":null;e&&(h.el.trigger("swipe"),h.el.trigger("swipe"+e))}).on("touchstart MSPointerDown pointerdown",function(t){(!(g=a(t,"down"))||o(t))&&(v=g?t:t.touches[0],t.touches&&1===t.touches.length&&h.x2&&(h.x2=void 0,h.y2=void 0),f=Date.now(),m=f-(h.last||f),h.el=d("tagName"in v.target?v.target:v.target.parentNode),r&&clearTimeout(r),h.x1=v.pageX,h.y1=v.pageY,m>0&&250>=m&&(h.isDoubleTap=!0),h.last=f,c=setTimeout(e,p),u&&g&&u.addPointer(t.pointerId))}).on("touchmove MSPointerMove pointermove",function(t){(!(g=a(t,"move"))||o(t))&&(v=g?t:t.touches[0],n(),h.x2=v.pageX,h.y2=v.pageY,w+=Math.abs(h.x1-h.x2),y+=Math.abs(h.y1-h.y2))}).on("touchend MSPointerUp pointerup",function(e){(!(g=a(e,"up"))||o(e))&&(n(),h.x2&&Math.abs(h.x1-h.x2)>30||h.y2&&Math.abs(h.y1-h.y2)>30?l=setTimeout(function(){h.el.trigger("swipe"),h.el.trigger("swipe"+t(h.x1,h.x2,h.y1,h.y2)),h={}},0):"last"in h&&(30>w&&30>y?s=setTimeout(function(){var t=d.Event("tap");t.cancelTouch=i,h.el.trigger(t),h.isDoubleTap?(h.el&&h.el.trigger("doubleTap"),h={}):r=setTimeout(function(){r=null,h.el&&h.el.trigger("singleTap"),h={}},250)},0):h={}),w=y=0)}).on("touchcancel MSPointerCancel pointercancel",i),d(window).on("scroll",i)}),["swipe","swipeLeft","swipeRight","swipeUp","swipeDown","doubleTap","tap","singleTap","longTap"].forEach(function(t){d.fn[t]=function(e){return this.on(t,e)}})}),define("zepto.flexslider",["core","zepto.extend.fx","zepto.extend.data","zepto.extend.selector","zepto.extend.data"],function(require){var t=window.Zepto;require("core"),require("zepto.extend.data"),t.data=function(e,n,i){return t(e).data(n,i)},["Left","Top"].forEach(function(e,n){function i(t){return t&&"object"==typeof t&&"setInterval"in t}function o(t){return i(t)?t:9===t.nodeType?t.defaultView||t.parentWindow:!1}var a="scroll"+e;t.fn[a]=function(e){var i,r;return void 0===e?(i=this[0])?(r=o(i),r?"pageXOffset"in r?r[n?"pageYOffset":"pageXOffset"]:r.document.documentElement[a]||r.document.body[a]:i[a]):null:void this.each(function(){if(r=o(this)){var i=n?t(r).scrollLeft():e,s=n?e:t(r).scrollTop();r.scrollTo(i,s)}else this[a]=e})}}),["width","height"].forEach(function(e){var n=e.replace(/./,function(t){return t[0].toUpperCase()});t.fn["outer"+n]=function(t){var n=this;if(n){var i=n[e](),o={width:["left","right"],height:["top","bottom"]};return o[e].forEach(function(e){t&&(i+=parseInt(n.css("margin-"+e),10))}),i}return null}}),/*
     * Zepto FlexSlider v2.3
     * @desc Porting from jQuery FlexSlider v2.3, Contributing Author: Tyler Smith
     * @license Copyright 2012 WooThemes GPLv2
     */
t.flexslider=function(e,n){var i=t(e);i.vars=t.extend({},t.flexslider.defaults,n);var o,a=i.vars.namespace,r=window.navigator&&window.navigator.msPointerEnabled&&window.MSGesture,s=("ontouchstart"in window||r||window.DocumentTouch&&document instanceof DocumentTouch)&&i.vars.touch,l="click touchend MSPointerUp keyup",c="",u="vertical"===i.vars.direction,d=i.vars.reverse,h=i.vars.itemWidth>0,p="fade"===i.vars.animation,f=""!==i.vars.asNavFor,m={},v=!0;t.data(e,"flexslider",i),m={init:function(){i.animating=!1,i.currentSlide=parseInt(i.vars.startAt?i.vars.startAt:0,10),isNaN(i.currentSlide)&&(i.currentSlide=0),i.animatingTo=i.currentSlide,i.atEnd=0===i.currentSlide||i.currentSlide===i.last,i.containerSelector=i.vars.selector.substr(0,i.vars.selector.search(" ")),i.slides=t(i.vars.selector,i),i.container=t(i.containerSelector,i),i.count=i.slides.length,i.syncExists=t(i.vars.sync).length>0,"slide"===i.vars.animation&&(i.vars.animation="swing"),i.prop=u?"top":"marginLeft",i.args={},i.manualPause=!1,i.stopped=!1,i.started=!1,i.startTimeout=null,i.transitions=!i.vars.video&&!p&&i.vars.useCSS&&function(){var t=document.createElement("div"),e=["perspectiveProperty","WebkitPerspective","MozPerspective","OPerspective","msPerspective"];for(var n in e)if(void 0!==t.style[e[n]])return i.pfx=e[n].replace("Perspective","").toLowerCase(),i.prop="-"+i.pfx+"-transform",!0;return!1}(),i.ensureAnimationEnd="",""!==i.vars.controlsContainer&&(i.controlsContainer=t(i.vars.controlsContainer).length>0&&t(i.vars.controlsContainer)),""!==i.vars.manualControls&&(i.manualControls=t(i.vars.manualControls).length>0&&t(i.vars.manualControls)),i.vars.randomize&&(i.slides.sort(function(){return Math.round(Math.random())-.5}),i.container.empty().append(i.slides)),i.doMath(),i.setup("init"),i.vars.controlNav&&m.controlNav.setup(),i.vars.directionNav&&m.directionNav.setup(),i.vars.keyboard&&(1===t(i.containerSelector).length||i.vars.multipleKeyboard)&&t(document).bind("keyup",function(t){var e=t.keyCode;if(!i.animating&&(39===e||37===e)){var n=39===e?i.getTarget("next"):37===e?i.getTarget("prev"):!1;i.flexAnimate(n,i.vars.pauseOnAction)}}),i.vars.mousewheel&&i.bind("mousewheel",function(t,e){t.preventDefault();var n=i.getTarget(0>e?"next":"prev");i.flexAnimate(n,i.vars.pauseOnAction)}),i.vars.pausePlay&&m.pausePlay.setup(),i.vars.slideshow&&i.vars.pauseInvisible&&m.pauseInvisible.init(),i.vars.slideshow&&(i.vars.pauseOnHover&&(i.on("mouseover",function(){i.manualPlay||i.manualPause||i.pause()}),i.on("mouseout",function(){i.manualPause||i.manualPlay||i.stopped||i.play()})),i.vars.pauseInvisible&&m.pauseInvisible.isHidden()||(i.vars.initDelay>0?i.startTimeout=setTimeout(i.play,i.vars.initDelay):i.play())),f&&m.asNav.setup(),s&&i.vars.touch&&m.touch(),(!p||p&&i.vars.smoothHeight)&&t(window).bind("resize orientationchange focus",m.resize),i.find("img").attr("draggable","false"),setTimeout(function(){i.vars.start(i)},200)},asNav:{setup:function(){i.asNav=!0,i.animatingTo=Math.floor(i.currentSlide/i.move),i.currentItem=i.currentSlide,i.slides.removeClass(a+"active-slide").eq(i.currentItem).addClass(a+"active-slide"),r?(e._slider=i,i.slides.each(function(){var e=this;e._gesture=new MSGesture,e._gesture.target=e,e.addEventListener("MSPointerDown",function(t){t.preventDefault(),t.currentTarget._gesture&&t.currentTarget._gesture.addPointer(t.pointerId)},!1),e.addEventListener("MSGestureTap",function(e){e.preventDefault();var n=t(this),o=n.index();t(i.vars.asNavFor).data("flexslider").animating||n.hasClass("active")||(i.direction=i.currentItem<o?"next":"prev",i.flexAnimate(o,i.vars.pauseOnAction,!1,!0,!0))})})):i.slides.on(l,function(e){e.preventDefault();var n=t(this),o=n.index(),r=n.offset().left-t(i).scrollLeft();0>=r&&n.hasClass(a+"active-slide")?i.flexAnimate(i.getTarget("prev"),!0):t(i.vars.asNavFor).data("flexslider").animating||n.hasClass(a+"active-slide")||(i.direction=i.currentItem<o?"next":"prev",i.flexAnimate(o,i.vars.pauseOnAction,!1,!0,!0))})}},controlNav:{setup:function(){i.manualControls?m.controlNav.setupManual():m.controlNav.setupPaging()},setupPaging:function(){var e,n,o="thumbnails"===i.vars.controlNav?"control-thumbs":"control-paging",r=1;if(i.controlNavScaffold=t('<ol class="'+a+"control-nav "+a+o+'"></ol>'),i.pagingCount>1)for(var s=0;s<i.pagingCount;s++){if(n=i.slides.eq(s),e="thumbnails"===i.vars.controlNav?'<img src="'+n.attr("data-thumb")+'"/>':"<a>"+r+"</a>","thumbnails"===i.vars.controlNav&&!0===i.vars.thumbCaptions){var u=n.attr("data-thumbcaption");""!=u&&void 0!=u&&(e+='<span class="'+a+'caption">'+u+"</span>")}i.controlNavScaffold.append("<li>"+e+"<i></i></li>"),r++}i.controlsContainer?t(i.controlsContainer).append(i.controlNavScaffold):i.append(i.controlNavScaffold),m.controlNav.set(),m.controlNav.active(),i.controlNavScaffold.delegate("a, img",l,function(e){if(e.preventDefault(),""===c||c===e.type){var n=t(this),o=i.controlNav.index(n);n.hasClass(a+"active")||(i.direction=o>i.currentSlide?"next":"prev",i.flexAnimate(o,i.vars.pauseOnAction))}""===c&&(c=e.type),m.setToClearWatchedEvent()})},setupManual:function(){i.controlNav=i.manualControls,m.controlNav.active(),i.controlNav.bind(l,function(e){if(e.preventDefault(),""===c||c===e.type){var n=t(this),o=i.controlNav.index(n);n.hasClass(a+"active")||(i.direction=o>i.currentSlide?"next":"prev",i.flexAnimate(o,i.vars.pauseOnAction))}""===c&&(c=e.type),m.setToClearWatchedEvent()})},set:function(){var e="thumbnails"===i.vars.controlNav?"img":"a";i.controlNav=t("."+a+"control-nav li "+e,i.controlsContainer?i.controlsContainer:i)},active:function(){i.controlNav.removeClass(a+"active").eq(i.animatingTo).addClass(a+"active")},update:function(e,n){i.pagingCount>1&&"add"===e?i.controlNavScaffold.append(t("<li><a>"+i.count+"</a></li>")):1===i.pagingCount?i.controlNavScaffold.find("li").remove():i.controlNav.eq(n).closest("li").remove(),m.controlNav.set(),i.pagingCount>1&&i.pagingCount!==i.controlNav.length?i.update(n,e):m.controlNav.active()}},directionNav:{setup:function(){var e=t('<ul class="'+a+'direction-nav"><li><a class="'+a+'prev" href="#">'+i.vars.prevText+'</a></li><li><a class="'+a+'next" href="#">'+i.vars.nextText+"</a></li></ul>");i.controlsContainer?(t(i.controlsContainer).append(e),i.directionNav=t("."+a+"direction-nav li a",i.controlsContainer)):(i.append(e),i.directionNav=t("."+a+"direction-nav li a",i)),m.directionNav.update(),i.directionNav.bind(l,function(e){e.preventDefault();var n;(""===c||c===e.type)&&(n=i.getTarget(t(this).hasClass(a+"next")?"next":"prev"),i.flexAnimate(n,i.vars.pauseOnAction)),""===c&&(c=e.type),m.setToClearWatchedEvent()})},update:function(){var t=a+"disabled";1===i.pagingCount?i.directionNav.addClass(t).attr("tabindex","-1"):i.vars.animationLoop?i.directionNav.removeClass(t).removeAttr("tabindex"):0===i.animatingTo?i.directionNav.removeClass(t).filter("."+a+"prev").addClass(t).attr("tabindex","-1"):i.animatingTo===i.last?i.directionNav.removeClass(t).filter("."+a+"next").addClass(t).attr("tabindex","-1"):i.directionNav.removeClass(t).removeAttr("tabindex")}},pausePlay:{setup:function(){var e=t('<div class="'+a+'pauseplay"><a></a></div>');i.controlsContainer?(i.controlsContainer.append(e),i.pausePlay=t("."+a+"pauseplay a",i.controlsContainer)):(i.append(e),i.pausePlay=t("."+a+"pauseplay a",i)),m.pausePlay.update(i.vars.slideshow?a+"pause":a+"play"),i.pausePlay.bind(l,function(e){e.preventDefault(),(""===c||c===e.type)&&(t(this).hasClass(a+"pause")?(i.manualPause=!0,i.manualPlay=!1,i.pause()):(i.manualPause=!1,i.manualPlay=!0,i.play())),""===c&&(c=e.type),m.setToClearWatchedEvent()})},update:function(t){"play"===t?i.pausePlay.removeClass(a+"pause").addClass(a+"play").html(i.vars.playText):i.pausePlay.removeClass(a+"play").addClass(a+"pause").html(i.vars.pauseText)}},touch:function(){function t(t){i.animating?t.preventDefault():(window.navigator.msPointerEnabled||1===t.touches.length)&&(i.pause(),v=u?i.h:i.w,w=Number(new Date),b=t.touches[0].pageX,x=t.touches[0].pageY,m=h&&d&&i.animatingTo===i.last?0:h&&d?i.limit-(i.itemW+i.vars.itemMargin)*i.move*i.animatingTo:h&&i.currentSlide===i.last?i.limit:h?(i.itemW+i.vars.itemMargin)*i.move*i.currentSlide:d?(i.last-i.currentSlide+i.cloneOffset)*v:(i.currentSlide+i.cloneOffset)*v,c=u?x:b,f=u?b:x,e.addEventListener("touchmove",n,!1),e.addEventListener("touchend",o,!1))}function n(t){b=t.touches[0].pageX,x=t.touches[0].pageY,g=u?c-x:c-b,y=u?Math.abs(g)<Math.abs(b-f):Math.abs(g)<Math.abs(x-f);var e=500;(!y||Number(new Date)-w>e)&&(t.preventDefault(),!p&&i.transitions&&(i.vars.animationLoop||(g/=0===i.currentSlide&&0>g||i.currentSlide===i.last&&g>0?Math.abs(g)/v+2:1),i.setProps(m+g,"setTouch")))}function o(){if(e.removeEventListener("touchmove",n,!1),i.animatingTo===i.currentSlide&&!y&&null!==g){var t=d?-g:g,a=i.getTarget(t>0?"next":"prev");i.canAdvance(a)&&(Number(new Date)-w<550&&Math.abs(t)>50||Math.abs(t)>v/2)?i.flexAnimate(a,i.vars.pauseOnAction):p||i.flexAnimate(i.currentSlide,i.vars.pauseOnAction,!0)}e.removeEventListener("touchend",o,!1),c=null,f=null,g=null,m=null}function a(t){t.stopPropagation(),i.animating?t.preventDefault():(i.pause(),e._gesture.addPointer(t.pointerId),C=0,v=u?i.h:i.w,w=Number(new Date),m=h&&d&&i.animatingTo===i.last?0:h&&d?i.limit-(i.itemW+i.vars.itemMargin)*i.move*i.animatingTo:h&&i.currentSlide===i.last?i.limit:h?(i.itemW+i.vars.itemMargin)*i.move*i.currentSlide:d?(i.last-i.currentSlide+i.cloneOffset)*v:(i.currentSlide+i.cloneOffset)*v)}function s(t){t.stopPropagation();var n=t.target._slider;if(n){var i=-t.translationX,o=-t.translationY;return C+=u?o:i,g=C,y=u?Math.abs(C)<Math.abs(-i):Math.abs(C)<Math.abs(-o),t.detail===t.MSGESTURE_FLAG_INERTIA?void setImmediate(function(){e._gesture.stop()}):void((!y||Number(new Date)-w>500)&&(t.preventDefault(),!p&&n.transitions&&(n.vars.animationLoop||(g=C/(0===n.currentSlide&&0>C||n.currentSlide===n.last&&C>0?Math.abs(C)/v+2:1)),n.setProps(m+g,"setTouch"))))}}function l(t){t.stopPropagation();var e=t.target._slider;if(e){if(e.animatingTo===e.currentSlide&&!y&&null!==g){var n=d?-g:g,i=e.getTarget(n>0?"next":"prev");e.canAdvance(i)&&(Number(new Date)-w<550&&Math.abs(n)>50||Math.abs(n)>v/2)?e.flexAnimate(i,e.vars.pauseOnAction):p||e.flexAnimate(e.currentSlide,e.vars.pauseOnAction,!0)}c=null,f=null,g=null,m=null,C=0}}var c,f,m,v,g,w,y=!1,b=0,x=0,C=0;r?(e.style.msTouchAction="none",e._gesture=new MSGesture,e._gesture.target=e,e.addEventListener("MSPointerDown",a,!1),e._slider=i,e.addEventListener("MSGestureChange",s,!1),e.addEventListener("MSGestureEnd",l,!1)):e.addEventListener("touchstart",t,!1)},resize:function(){!i.animating&&i.is(":visible")&&(h||i.doMath(),p?m.smoothHeight():h?(i.slides.width(i.computedW),i.update(i.pagingCount),i.setProps()):u?(i.viewport.height(i.h),i.setProps(i.h,"setTotal")):(i.vars.smoothHeight&&m.smoothHeight(),i.newSlides.width(i.computedW),i.setProps(i.computedW,"setTotal")))},smoothHeight:function(t){if(!u||p){var e=p?i:i.viewport;t?e.animate({height:i.slides.eq(i.animatingTo).height()},t):e.height(i.slides.eq(i.animatingTo).height())}},sync:function(e){var n=t(i.vars.sync).data("flexslider"),o=i.animatingTo;switch(e){case"animate":n.flexAnimate(o,i.vars.pauseOnAction,!1,!0);break;case"play":n.playing||n.asNav||n.play();break;case"pause":n.pause()}},uniqueID:function(e){return e.filter("[id]").add(e.find("[id]")).each(function(){var e=t(this);e.attr("id",e.attr("id")+"_clone")}),e},pauseInvisible:{visProp:null,init:function(){var t=["webkit","moz","ms","o"];if("hidden"in document)return"hidden";for(var e=0;e<t.length;e++)t[e]+"Hidden"in document&&(m.pauseInvisible.visProp=t[e]+"Hidden");if(m.pauseInvisible.visProp){var n=m.pauseInvisible.visProp.replace(/[H|h]idden/,"")+"visibilitychange";document.addEventListener(n,function(){m.pauseInvisible.isHidden()?i.startTimeout?clearTimeout(i.startTimeout):i.pause():i.started?i.play():i.vars.initDelay>0?setTimeout(i.play,i.vars.initDelay):i.play()})}},isHidden:function(){return document[m.pauseInvisible.visProp]||!1}},setToClearWatchedEvent:function(){clearTimeout(o),o=setTimeout(function(){c=""},3e3)}},i.flexAnimate=function(e,n,o,r,l){if(i.vars.animationLoop||e===i.currentSlide||(i.direction=e>i.currentSlide?"next":"prev"),f&&1===i.pagingCount&&(i.direction=i.currentItem<e?"next":"prev"),!i.animating&&(i.canAdvance(e,l)||o)&&i.is(":visible")){if(f&&r){var c=t(i.vars.asNavFor).data("flexslider");if(i.atEnd=0===e||e===i.count-1,c.flexAnimate(e,!0,!1,!0,l),i.direction=i.currentItem<e?"next":"prev",c.direction=i.direction,Math.ceil((e+1)/i.visible)-1===i.currentSlide||0===e)return i.currentItem=e,i.slides.removeClass(a+"active-slide").eq(e).addClass(a+"active-slide"),!1;i.currentItem=e,i.slides.removeClass(a+"active-slide").eq(e).addClass(a+"active-slide"),e=Math.floor(e/i.visible)}if(i.animating=!0,i.animatingTo=e,n&&i.pause(),i.vars.before(i),i.syncExists&&!l&&m.sync("animate"),i.vars.controlNav&&m.controlNav.active(),h||i.slides.removeClass(a+"active-slide").eq(e).addClass(a+"active-slide"),i.atEnd=0===e||e===i.last,i.vars.directionNav&&m.directionNav.update(),e===i.last&&(i.vars.end(i),i.vars.animationLoop||i.pause()),p)s?(i.slides.eq(i.currentSlide).css({opacity:0,zIndex:1}),i.slides.eq(e).css({opacity:1,zIndex:2}),i.wrapup(y)):(i.slides.eq(i.currentSlide).css({zIndex:1}).animate({opacity:0},i.vars.animationSpeed,i.vars.easing),i.slides.eq(e).css({zIndex:2}).animate({opacity:1},i.vars.animationSpeed,i.vars.easing,i.wrapup));else{var v,g,w,y=u?i.slides.filter(":first").height():i.computedW;h?(v=i.vars.itemMargin,w=(i.itemW+v)*i.move*i.animatingTo,g=w>i.limit&&1!==i.visible?i.limit:w):g=0===i.currentSlide&&e===i.count-1&&i.vars.animationLoop&&"next"!==i.direction?d?(i.count+i.cloneOffset)*y:0:i.currentSlide===i.last&&0===e&&i.vars.animationLoop&&"prev"!==i.direction?d?0:(i.count+1)*y:d?(i.count-1-e+i.cloneOffset)*y:(e+i.cloneOffset)*y,i.setProps(g,"",i.vars.animationSpeed),i.transitions?(i.vars.animationLoop&&i.atEnd||(i.animating=!1,i.currentSlide=i.animatingTo),i.container.unbind("webkitTransitionEnd transitionend"),i.container.bind("webkitTransitionEnd transitionend",function(){clearTimeout(i.ensureAnimationEnd),i.wrapup(y)}),clearTimeout(i.ensureAnimationEnd),i.ensureAnimationEnd=setTimeout(function(){i.wrapup(y)},i.vars.animationSpeed+100)):i.container.animate(i.args,i.vars.animationSpeed,i.vars.easing,function(){i.wrapup(y)})}i.vars.smoothHeight&&m.smoothHeight(i.vars.animationSpeed)}},i.wrapup=function(t){p||h||(0===i.currentSlide&&i.animatingTo===i.last&&i.vars.animationLoop?i.setProps(t,"jumpEnd"):i.currentSlide===i.last&&0===i.animatingTo&&i.vars.animationLoop&&i.setProps(t,"jumpStart")),i.animating=!1,i.currentSlide=i.animatingTo,i.vars.after(i)},i.animateSlides=function(){!i.animating&&v&&i.flexAnimate(i.getTarget("next"))},i.pause=function(){clearInterval(i.animatedSlides),i.animatedSlides=null,i.playing=!1,i.vars.pausePlay&&m.pausePlay.update("play"),i.syncExists&&m.sync("pause")},i.play=function(){i.playing&&clearInterval(i.animatedSlides),i.animatedSlides=i.animatedSlides||setInterval(i.animateSlides,i.vars.slideshowSpeed),i.started=i.playing=!0,i.vars.pausePlay&&m.pausePlay.update("pause"),i.syncExists&&m.sync("play")},i.stop=function(){i.pause(),i.stopped=!0},i.canAdvance=function(t,e){var n=f?i.pagingCount-1:i.last;return e?!0:f&&i.currentItem===i.count-1&&0===t&&"prev"===i.direction?!0:f&&0===i.currentItem&&t===i.pagingCount-1&&"next"!==i.direction?!1:t!==i.currentSlide||f?i.vars.animationLoop?!0:i.atEnd&&0===i.currentSlide&&t===n&&"next"!==i.direction?!1:i.atEnd&&i.currentSlide===n&&0===t&&"next"===i.direction?!1:!0:!1},i.getTarget=function(t){return i.direction=t,"next"===t?i.currentSlide===i.last?0:i.currentSlide+1:0===i.currentSlide?i.last:i.currentSlide-1},i.setProps=function(t,e,n){var o=function(){var n=t?t:(i.itemW+i.vars.itemMargin)*i.move*i.animatingTo,o=function(){if(h)return"setTouch"===e?t:d&&i.animatingTo===i.last?0:d?i.limit-(i.itemW+i.vars.itemMargin)*i.move*i.animatingTo:i.animatingTo===i.last?i.limit:n;switch(e){case"setTotal":return d?(i.count-1-i.currentSlide+i.cloneOffset)*t:(i.currentSlide+i.cloneOffset)*t;case"setTouch":return d?t:t;case"jumpEnd":return d?t:i.count*t;case"jumpStart":return d?i.count*t:t;default:return t}}();return-1*o+"px"}();i.transitions&&(o=u?"translate3d(0,"+o+",0)":"translate3d("+o+",0,0)",n=void 0!==n?n/1e3+"s":"0s",i.container.css("-"+i.pfx+"-transition-duration",n),i.container.css("transition-duration",n)),i.args[i.prop]=o,(i.transitions||void 0===n)&&i.container.css(i.args),i.container.css("transform",o)},i.setup=function(e){if(p)i.slides.css({width:"100%","float":"left",marginRight:"-100%",position:"relative"}),"init"===e&&(s?i.slides.css({opacity:0,display:"block",webkitTransition:"opacity "+i.vars.animationSpeed/1e3+"s ease",zIndex:1}).eq(i.currentSlide).css({opacity:1,zIndex:2}):0==i.vars.fadeFirstSlide?i.slides.css({opacity:0,display:"block",zIndex:1}).eq(i.currentSlide).css({zIndex:2}).css({opacity:1}):i.slides.css({opacity:0,display:"block",zIndex:1}).eq(i.currentSlide).css({zIndex:2}).animate({opacity:1},i.vars.animationSpeed,i.vars.easing)),i.vars.smoothHeight&&m.smoothHeight();else{var n,o;"init"===e&&(i.viewport=t('<div class="'+a+'viewport"></div>').css({overflow:"hidden",position:"relative"}).appendTo(i).append(i.container),i.cloneCount=0,i.cloneOffset=0,d&&(o=t.makeArray(i.slides).reverse(),i.slides=t(o),i.container.empty().append(i.slides))),i.vars.animationLoop&&!h&&(i.cloneCount=2,i.cloneOffset=1,"init"!==e&&i.container.find(".clone").remove(),i.container.append(m.uniqueID(i.slides.first().clone().addClass("clone")).attr("aria-hidden","true")).prepend(m.uniqueID(i.slides.last().clone().addClass("clone")).attr("aria-hidden","true"))),i.newSlides=t(i.vars.selector,i),n=d?i.count-1-i.currentSlide+i.cloneOffset:i.currentSlide+i.cloneOffset,u&&!h?(i.container.height(200*(i.count+i.cloneCount)+"%").css("position","absolute").width("100%"),setTimeout(function(){i.newSlides.css({display:"block"}),i.doMath(),i.viewport.height(i.h),i.setProps(n*i.h,"init")},"init"===e?100:0)):(i.container.width(200*(i.count+i.cloneCount)+"%"),i.setProps(n*i.computedW,"init"),setTimeout(function(){i.doMath(),i.newSlides.css({width:i.computedW,"float":"left",display:"block"}),i.vars.smoothHeight&&m.smoothHeight()},"init"===e?100:0))}h||i.slides.removeClass(a+"active-slide").eq(i.currentSlide).addClass(a+"active-slide"),i.vars.init(i)},i.doMath=function(){var t=i.slides.first(),e=i.vars.itemMargin,n=i.vars.minItems,o=i.vars.maxItems;i.w=void 0===i.viewport?i.width():i.viewport.width(),i.h=t.height(),i.boxPadding=t.outerWidth()-t.width(),h?(i.itemT=i.vars.itemWidth+e,i.minW=n?n*i.itemT:i.w,i.maxW=o?o*i.itemT-e:i.w,i.itemW=i.minW>i.w?(i.w-e*(n-1))/n:i.maxW<i.w?(i.w-e*(o-1))/o:i.vars.itemWidth>i.w?i.w:i.vars.itemWidth,i.visible=Math.floor(i.w/i.itemW),i.move=i.vars.move>0&&i.vars.move<i.visible?i.vars.move:i.visible,i.pagingCount=Math.ceil((i.count-i.visible)/i.move+1),i.last=i.pagingCount-1,i.limit=1===i.pagingCount?0:i.vars.itemWidth>i.w?i.itemW*(i.count-1)+e*(i.count-1):(i.itemW+e)*i.count-i.w-e):(i.itemW=i.w,i.pagingCount=i.count,i.last=i.count-1),i.computedW=i.itemW-i.boxPadding},i.update=function(t,e){i.doMath(),h||(t<i.currentSlide?i.currentSlide+=1:t<=i.currentSlide&&0!==t&&(i.currentSlide-=1),i.animatingTo=i.currentSlide),i.vars.controlNav&&!i.manualControls&&("add"===e&&!h||i.pagingCount>i.controlNav.length?m.controlNav.update("add"):("remove"===e&&!h||i.pagingCount<i.controlNav.length)&&(h&&i.currentSlide>i.last&&(i.currentSlide-=1,i.animatingTo-=1),m.controlNav.update("remove",i.last))),i.vars.directionNav&&m.directionNav.update()},i.addSlide=function(e,n){var o=t(e);i.count+=1,i.last=i.count-1,u&&d?void 0!==n?i.slides.eq(i.count-n).after(o):i.container.prepend(o):void 0!==n?i.slides.eq(n).before(o):i.container.append(o),i.update(n,"add"),i.slides=t(i.vars.selector+":not(.clone)",i),i.setup(),i.vars.added(i)},i.removeSlide=function(e){var n=isNaN(e)?i.slides.index(t(e)):e;i.count-=1,i.last=i.count-1,isNaN(e)?t(e,i.slides).remove():u&&d?i.slides.eq(i.last).remove():i.slides.eq(e).remove(),i.doMath(),i.update(n,"remove"),i.slides=t(i.vars.selector+":not(.clone)",i),i.setup(),i.vars.removed(i)},m.init()},t(window).blur(function(){focused=!1}).focus(function(){focused=!0}),t.flexslider.defaults={namespace:"am-",selector:".am-slides > li",animation:"slide",easing:"swing",direction:"horizontal",reverse:!1,animationLoop:!0,smoothHeight:!1,startAt:0,slideshow:!0,slideshowSpeed:5e3,animationSpeed:600,initDelay:0,randomize:!1,thumbCaptions:!1,pauseOnAction:!0,pauseOnHover:!1,pauseInvisible:!0,useCSS:!0,touch:!0,video:!1,controlNav:!0,directionNav:!0,prevText:"Previous",nextText:"Next",keyboard:!0,multipleKeyboard:!1,mousewheel:!1,pausePlay:!1,pauseText:"Pause",playText:"Play",controlsContainer:"",manualControls:"",sync:"",asNavFor:"",itemWidth:0,itemMargin:0,minItems:1,maxItems:0,move:0,allowOneSlide:!0,start:function(){},before:function(){},after:function(){},end:function(){},added:function(){},removed:function(){},init:function(){}},t.fn.flexslider=function(e){if(void 0===e&&(e={}),"object"==typeof e)return this.each(function(){var n=t(this),i=e.selector?e.selector:".am-slides > li",o=n.find(i);1===o.length&&e.allowOneSlide===!0||0===o.length?(o.animate({opacity:1},400),e.start&&e.start(n)):void 0===n.data("flexslider")&&new t.flexslider(this,e)});var n=t(this).data("flexslider");switch(e){case"play":n.play();break;case"pause":n.pause();break;case"stop":n.stop();break;case"next":n.flexAnimate(n.getTarget("next"),!0);break;case"prev":case"previous":n.flexAnimate(n.getTarget("prev"),!0);break;default:"number"==typeof e&&n.flexAnimate(e,!0)}}}),define("zepto.outerdemension",[],function(){var t=window.Zepto;["width","height"].forEach(function(e){var n=e.replace(/./,function(t){return t[0].toUpperCase()});t.fn["outer"+n]=function(t){var n=this;if(n){var i=n[e](),o={width:["left","right"],height:["top","bottom"]};return o[e].forEach(function(e){t&&(i+=parseInt(n.css("margin-"+e),10))}),i}return null}})}),define("zepto.pinchzoom",[],function(require,t,e){/**
     * @via http://rtp-ch.github.io/pinchzoom/
     * @license GNU General Public License,
     */
var n=function(t){var e=function(e,n){this.el=t(e),this.zoomFactor=1,this.lastScale=1,this.offset={x:0,y:0},this.options=t.extend({},this.defaults,n),this.setupMarkup(),this.bindEvents(),this.update()},n=function(t,e){return t+e},i=function(t,e){return t>e-.01&&e+.01>t};e.prototype={defaults:{tapZoomFactor:2,zoomOutFactor:1.3,animationDuration:300,animationInterval:5,maxZoom:4,minZoom:.5,use2d:!0},handleDragStart:function(t){this.stopAnimation(),this.lastDragPosition=!1,this.hasInteraction=!0,this.handleDrag(t)},handleDrag:function(t){if(this.zoomFactor>1){var e=this.getTouches(t)[0];this.drag(e,this.lastDragPosition),this.offset=this.sanitizeOffset(this.offset),this.lastDragPosition=e}},handleDragEnd:function(){this.end()},handleZoomStart:function(){this.stopAnimation(),this.lastScale=1,this.nthZoom=0,this.lastZoomCenter=!1,this.hasInteraction=!0},handleZoom:function(t,e){var n=this.getTouchCenter(this.getTouches(t)),i=e/this.lastScale;this.lastScale=e,this.nthZoom+=1,this.nthZoom>3&&(this.scale(i,n),this.drag(n,this.lastZoomCenter)),this.lastZoomCenter=n},handleZoomEnd:function(){this.end()},handleDoubleTap:function(t){var e=this.getTouches(t)[0],n=this.zoomFactor>1?1:this.options.tapZoomFactor,i=this.zoomFactor,o=function(t){this.scaleTo(i+t*(n-i),e)}.bind(this);this.hasInteraction||(i>n&&(e=this.getCurrentZoomCenter()),n>1?this.options.doubleTapOutCallback&&this.options.doubleTapOutCallback():this.options.doubleTapInCallback&&this.options.doubleTapInCallback(),this.animate(this.options.animationDuration,this.options.animationInterval,o,this.swing))},sanitizeOffset:function(t){var e=(this.zoomFactor-1)*this.getContainerX(),n=(this.zoomFactor-1)*this.getContainerY(),i=Math.max(e,0),o=Math.max(n,0),a=Math.min(e,0),r=Math.min(n,0);return{x:Math.min(Math.max(t.x,a),i),y:Math.min(Math.max(t.y,r),o)}},scaleTo:function(t,e){this.scale(t/this.zoomFactor,e)},scale:function(t,e){t=this.scaleZoomFactor(t),this.addOffset({x:(t-1)*(e.x+this.offset.x),y:(t-1)*(e.y+this.offset.y)})},scaleZoomFactor:function(t){var e=this.zoomFactor;return this.zoomFactor*=t,this.zoomFactor=Math.min(this.options.maxZoom,Math.max(this.zoomFactor,this.options.minZoom)),this.zoomFactor/e},drag:function(t,e){e&&this.addOffset({x:-(t.x-e.x),y:-(t.y-e.y)})},getTouchCenter:function(t){return this.getVectorAvg(t)},getVectorAvg:function(t){return{x:t.map(function(t){return t.x}).reduce(n)/t.length,y:t.map(function(t){return t.y}).reduce(n)/t.length}},addOffset:function(t){this.offset={x:this.offset.x+t.x,y:this.offset.y+t.y}},sanitize:function(){this.zoomFactor<this.options.zoomOutFactor?this.zoomOutAnimation():this.isInsaneOffset(this.offset)&&this.sanitizeOffsetAnimation()},isInsaneOffset:function(t){var e=this.sanitizeOffset(t);return e.x!==t.x||e.y!==t.y},sanitizeOffsetAnimation:function(){var t=this.sanitizeOffset(this.offset),e={x:this.offset.x,y:this.offset.y},n=function(n){this.offset.x=e.x+n*(t.x-e.x),this.offset.y=e.y+n*(t.y-e.y),this.update()}.bind(this);this.animate(this.options.animationDuration,this.options.animationInterval,n,this.swing)},zoomOutAnimation:function(){var t=this.zoomFactor,e=1,n=this.getCurrentZoomCenter(),i=function(i){this.scaleTo(t+i*(e-t),n)}.bind(this);this.animate(this.options.animationDuration,this.options.animationInterval,i,this.swing)},updateAspectRatio:function(){this.setContainerY(window.innerHeight)},getInitialZoomFactor:function(){return 1},getAspectRatio:function(){return this.el.width()/this.el.height()},getCurrentZoomCenter:function(){var t=this.getContainerX(),e=t*this.zoomFactor,n=this.offset.x,i=e-n-t,o=n/i,a=o*t/(o+1),r=this.getContainerY(),s=r*this.zoomFactor,l=this.offset.y,c=s-l-r,u=l/c,d=u*r/(u+1);return 0===i&&(a=t),0===c&&(d=r),{x:a,y:d}},canDrag:function(){return!i(this.zoomFactor,1)},getTouches:function(t){var e=this.container.offset();return Array.prototype.slice.call(t.touches).map(function(t){return{x:t.pageX-e.left,y:t.pageY-e.top}})},animate:function(t,e,n,i,o){var a=(new Date).getTime(),r=function(){if(this.inAnimation){var s=(new Date).getTime()-a,l=s/t;s>=t?(n(1),o&&o(),this.update(),this.stopAnimation(),this.update()):(i&&(l=i(l)),n(l),this.update(),setTimeout(r,e))}}.bind(this);this.inAnimation=!0,r()},stopAnimation:function(){this.inAnimation=!1},swing:function(t){return-Math.cos(t*Math.PI)/2+.5},getContainerX:function(){return window.innerWidth},getContainerY:function(){return window.innerHeight},setContainerY:function(t){return this.el.width(window.innerWidth),this.el.height(window.innerHeight),this.container.height(t)},setupMarkup:function(){this.container=t('<div class="pinch-zoom-container"></div>'),this.el.before(this.container),this.container.append(this.el),this.container.css({overflow:"hidden",position:"relative"}),this.el.css({"-webkit-transform-origin":"0% 0%",transformOrigin:"0% 0%",position:"absolute"})},end:function(){this.hasInteraction=!1,this.sanitize(),this.update()},bindEvents:function(){o(this.container.get(0),this),t(window).bind("ortchange",this.ortHandle.bind(this))},isCached:function(t){var e=document.createElement("img");e.src=t;var n=e.complete||e.width+e.height>0;return e=null,n},ortHandle:function(){this.zoomFactor=1,this.offset={x:0,y:0},this.update()},update:function(){this.updatePlaned||(this.updatePlaned=!0,setTimeout(function(){this.updatePlaned=!1,this.updateAspectRatio();var t=this.getInitialZoomFactor()*this.zoomFactor,e=parseFloat(-this.offset.x/t).toFixed(4),n=parseFloat(-this.offset.y/t).toFixed(4),i="scale3d("+t+", "+t+",1) translate3d("+e+"px,"+n+"px,0px)",o="scale("+t+", "+t+") translate("+e+"px,"+n+"px)",a=function(){this.clone&&(this.clone.remove(),delete this.clone)}.bind(this);if(!this.options.use2d||this.hasInteraction||this.inAnimation)this.is3d=!0,a(),this.el.css({"-webkit-transform":i,background:"rgba(0,0,0,0.9)",transform:i}).addClass("zooming");else{if(this.is3d){var r=this.el.find("img").attr("src");this.isCached(r)&&(this.clone=this.el.clone(),this.clone.css({"pointer-events":"none"}),this.clone.appendTo(this.container),setTimeout(a,200))}this.el.css({"-webkit-transform":o,transform:o}).removeClass("zooming"),this.is3d=!1}}.bind(this),0))}};var o=function(t,e){var n=null,i=0,o=null,a=null,r=1,s=function(t,i){if(n!==t){if(n&&!t)switch(n){case"zoom":e.handleZoomEnd(i);break;case"drag":e.handleDragEnd(i)}switch(t){case"zoom":e.handleZoomStart(i);break;case"drag":e.handleDragStart(i)}}n=t},l=function(t){2===i?s("zoom"):1===i&&e.canDrag()?s("drag",t):s(null,t)},c=function(t){return Array.prototype.slice.call(t).map(function(t){return{x:t.pageX,y:t.pageY}})},u=function(t,e){var n,i;return n=t.x-e.x,i=t.y-e.y,Math.sqrt(n*n+i*i)},d=function(t,e){var n=u(t[0],t[1]),i=u(e[0],e[1]);return i/n},h=function(t){t.stopPropagation(),t.preventDefault()},p=function(t){var a=(new Date).getTime();if(i>1&&(o=null),400>a-o)switch(h(t),e.handleDoubleTap(t),n){case"zoom":e.handleZoomEnd(t);break;case"drag":e.handleDragEnd(t)}1===i&&(o=a)},f=!0;t.addEventListener("touchstart",function(t){f=!0,r=e.zoomFactor,i=t.touches.length,p(t)}),t.addEventListener("touchmove",function(t){if(f)l(t),n&&h(t),a=c(t.touches);else{switch(n){case"zoom":e.handleZoom(t,d(a,c(t.touches)));break;case"drag":e.handleDrag(t)}n&&(h(t),e.update())}f=!1}),t.addEventListener("touchend",function(t){n&&h(t),"zoom"==n&&(e.zoomFactor>=r?e.options.zoomOutCallback&&e.options.zoomOutCallback():e.options.zoomInCallback&&e.options.zoomInCallback()),i=t.touches.length,l(t)})};return e};e.exports=n(window.Zepto)}),define("zepto.touchgallery",["./zepto.extend.touch","zepto.pinchzoom"],function(require){require("./zepto.extend.touch");var t=require("zepto.pinchzoom"),e=window.Zepto,n=e('<div id="galleryOverlay">'),i=e('<div id="gallerySlider">'),o=e('<a id="prevArrow"></a>'),a=e('<a id="nextArrow"></a>'),r=e('<ol class="nav-control"></ol>'),s=!1,l=navigator.userAgent.indexOf("MSIE")>-1;e.fn.touchTouch=function(){function c(t){return s?!1:(n.show(),setTimeout(function(){n.addClass("visible")},100),d(t),void(s=!0))}function u(){return s?(n.animate({opacity:0,display:"none"},300).removeClass("visible"),s=!1,e(".placeholder").empty(),void(x=b)):!1}function d(t){l?i.find(".placeholder").css({display:"none"}).eq(t).css({display:"inline-block"}):i.css("left",100*-t+"%")}function h(t){setTimeout(function(){f(t)},1e3)}function p(t){var e=r.children("li");e.removeClass().eq(t).addClass("nav-active")}function f(e){return 0>e||e>=x.length?!1:void m(x.eq(e).attr("href"),function(){w.eq(e).html(this).wrapInner('<div class="pinch-zoom"></div>'),new t(w.eq(e).find(".pinch-zoom"),{})})}function m(t,n){var i=e("<img>").on("load",function(){n.call(i)});i.attr("src",t)}function v(){y+1<x.length?(y++,d(y),h(y+1),p(y)):(i.addClass("rightSpring"),setTimeout(function(){i.removeClass("rightSpring")},500))}function g(){y>0?(y--,d(y),h(y-1),p(y)):(i.addClass("leftSpring"),setTimeout(function(){i.removeClass("leftSpring")},500))}var w=e([]),y=0,b=this,x=b,C=e([]);e("[data-am-gallery]").length&&(n.hide().appendTo("body"),i.appendTo(n)),x.each(function(t){w=w.add(e('<div class="placeholder">')),C=C.add(e("<li>"+(t+1)+"</li>"))}),r.append(C),n.append(r),i.append(w).on("click",function(t){e(t.target).is("img")||u()}),e("body").on("touchstart","#gallerySlider img",function(t){var e=t.originalEvent?t.originalEvent:t,n=e.changedTouches[0].pageX;return i.on("touchmove",function(t){t.preventDefault(),e=t.touches[0]||t.changedTouches[0],e.pageX-n>10?(i.off("touchmove"),g()):e.pageX-n<-10&&(i.off("touchmove"),v())}),!1}).on("touchend",function(){i.off("touchmove")}),(window.PointerEvent||window.MSPointerEvent)&&e("body").on("swipe","#gallerySlider img",function(t){t.preventDefault()}).on("swipeRight","#gallerySlider img",function(){g()}).on("swipeLeft","#gallerySlider img",function(){v()}),x.on("click",function(t){t.preventDefault();var n,i,o=e(this),a=o.parent().closest("[data-gallery]");o.attr("data-gallery")?(n=o.attr("data-gallery"),i="item"):a.length&&(n=a.attr("data-gallery"),i="ancestor"),n&&"item"==i?x=e("[data-gallery="+n+"]"):n&&"ancestor"==i&&(x=x.filter(function(){return e(this).parent().closest("[data-gallery]").length})),y=x.index(this),c(y),f(y),p(y),h(y+1),h(y-1)}),"ontouchstart"in window||(n.append(o).append(a),o.click(function(t){t.preventDefault(),g()}),a.click(function(t){t.preventDefault(),v()})),e(window).on("keydown",function(t){var e=t.keyCode;37==e?g():39==e?v():27==e&&u()})}}),seajs.use(["accordion","core","divider","figure","footer","gallery","gotop","intro","list_news","map","menu","nav","navbar","pagination","paragraph","slider","sohucs","tabs","titlebar","ui.accordion","ui.add2home","ui.alert","ui.button","ui.collapse","ui.dimmer","ui.dropdown","ui.modal","ui.offcanvas","ui.popover","ui.progress","ui.scrollspy","ui.scrollspynav","ui.smooth-scroll","ui.sticky","util.cookie","util.fastclick","util.fullscreen","util.qrcode","zepto.extend.data","zepto.extend.fx","zepto.extend.selector","zepto.extend.touch","zepto.flexslider","zepto.outerdemension","zepto.pinchzoom","zepto.touchgallery"]);